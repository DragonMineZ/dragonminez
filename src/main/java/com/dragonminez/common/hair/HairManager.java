package com.dragonminez.common.hair;

import com.dragonminez.Env;
import com.dragonminez.LogUtil;
import com.dragonminez.common.config.ConfigManager;
import com.dragonminez.common.config.RaceCharacterConfig;
import com.dragonminez.common.stats.Character;
import net.minecraft.nbt.CompoundTag;
import net.minecraft.nbt.NbtIo;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.math.BigInteger;
import java.util.HashMap;
import java.util.Map;
import java.util.zip.Deflater;
import java.util.zip.DeflaterOutputStream;
import java.util.zip.GZIPInputStream;
import java.util.zip.Inflater;
import java.util.zip.InflaterInputStream;

public class HairManager {
	private static final String[] DEFAULT_HAIR_RACES = {"human", "saiyan"};
	private static final Map<Integer, String> PRESET_CODES = new HashMap<>();
	private static final Map<Integer, CustomHair> PRESET_CACHE = new HashMap<>();
	private static final Map<Integer, CustomHair[]> PRESET_FULL_CACHE = new HashMap<>();

	private static final String CODE_PREFIX_V4 = "DMZ4:";
	private static final String CODE_PREFIX_FULL_V4 = "DMZF4:";
	private static final String CODE_PREFIX_V5 = "DMZ5:";
	private static final String CODE_PREFIX_FULL_V5 = "DMZF5:";

	private static final String CODE_PREFIX = "DMZ1:";
	private static final String CODE_PREFIX_FULL = "DMZF1:";

	private static final String FULL_SET_SEPARATOR = "\\|";
	private static final String FULL_SET_JOINER = "|";

	// Alfabetos
	private static final String BASE64_URL_ALPHABET = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";
	private static final String BASE62_ALPHABET = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";

	static {
		initializeDefaultPresets();
	}

    private static void initializeDefaultPresets() {
		// Goku
		registerPreset(1, "DMZF1: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");
    	// Vegeta
		registerPreset(2, "DMZF1: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");
		// Trunks
		registerPreset(3, "DMZF1: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");
		// Gohan
		registerPreset(4, "DMZF1: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");
		// Krillin
		registerPreset(5, "DMZ1:44mcEVqZ2eKzijNbXRBzGvntspu74kdDTAwb1LjBSs5ssH5lo");
		// Trunks (Large)
		registerPreset(6, "DMZF1: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");
        // Gohan DBS
        registerPreset(7, "DMZF1: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");
        // Raditz
        registerPreset(8, "DMZ1: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");
		// Patreon (__Travis__)
		registerPreset(9, "DMZF1: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");
    }

	private static byte[] compressOptimized(byte[] data) throws Exception {
		ByteArrayOutputStream byteOut = new ByteArrayOutputStream();
		Deflater deflater = new Deflater(Deflater.BEST_COMPRESSION, true);
		try (DeflaterOutputStream defOut = new DeflaterOutputStream(byteOut, deflater)) {
			defOut.write(data);
		}
		deflater.end();
		return byteOut.toByteArray();
	}

	private static byte[] decompressOptimized(byte[] data) throws Exception {
		ByteArrayInputStream byteIn = new ByteArrayInputStream(data);
		Inflater inflater = new Inflater(true);
		ByteArrayOutputStream byteOut = new ByteArrayOutputStream();
		try (InflaterInputStream infIn = new InflaterInputStream(byteIn, inflater)) {
			byte[] buffer = new byte[1024];
			int len;
			while ((len = infIn.read(buffer)) != -1) {
				byteOut.write(buffer, 0, len);
			}
		}
		inflater.end();
		return byteOut.toByteArray();
	}

	private static String encodeBigInt(byte[] bytes, String alphabet) {
		if (bytes == null || bytes.length == 0) return "";
		BigInteger value = new BigInteger(1, bytes);
		if (value.equals(BigInteger.ZERO)) return String.valueOf(alphabet.charAt(0));

		StringBuilder result = new StringBuilder();
		BigInteger base = BigInteger.valueOf(alphabet.length());

		while (value.compareTo(BigInteger.ZERO) > 0) {
			BigInteger[] divmod = value.divideAndRemainder(base);
			result.append(alphabet.charAt(divmod[1].intValue()));
			value = divmod[0];
		}

		return result.reverse().toString();
	}

	private static byte[] decodeBigInt(String encoded, String alphabet) {
		if (encoded == null || encoded.isEmpty()) return new byte[0];
		BigInteger value = BigInteger.ZERO;
		BigInteger base = BigInteger.valueOf(alphabet.length());

		for (int i = 0; i < encoded.length(); i++) {
			char c = encoded.charAt(i);
			int digit = alphabet.indexOf(c);
			if (digit < 0) throw new IllegalArgumentException("Invalid character in string: " + c);
			value = value.multiply(base).add(BigInteger.valueOf(digit));
		}

		byte[] bytes = value.toByteArray();
		if (bytes.length > 1 && bytes[0] == 0) {
			byte[] result = new byte[bytes.length - 1];
			System.arraycopy(bytes, 1, result, 0, result.length);
			return result;
		}
		return bytes;
	}

	public static String toCode(CustomHair hair) {
		if (hair == null) return "";
		try {
			CompoundTag tag = hair.save();
			ByteArrayOutputStream nbtOut = new ByteArrayOutputStream();
			DataOutputStream dataOut = new DataOutputStream(nbtOut);
			NbtIo.write(tag, dataOut);
			dataOut.close();

			byte[] compressed = compressOptimized(nbtOut.toByteArray());

			return CODE_PREFIX + encodeBigInt(compressed, BASE62_ALPHABET);
		} catch (Exception e) {
			LogUtil.error(Env.CLIENT, "Failed to serialize CustomHair to code", e);
			return "";
		}
	}

	public static CustomHair fromCode(String code) {
		if (code == null || code.isEmpty()) return null;

		if (isFullSetCode(code)) {
			CustomHair[] set = fromFullSetCode(code);
			return (set != null && set.length > 0) ? set[0] : null;
		}

		try {
			byte[] bytes;

			if (code.startsWith(CODE_PREFIX)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX.length()), BASE62_ALPHABET);
			} else if (code.startsWith(CODE_PREFIX_V5)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_V5.length()), BASE64_URL_ALPHABET);
			} else if (code.startsWith(CODE_PREFIX_V4)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_V4.length()), BASE64_URL_ALPHABET);
			} else {
				return null;
			}

			byte[] decompressed = decompressOptimized(bytes);
			ByteArrayInputStream byteIn = new ByteArrayInputStream(decompressed);
			DataInputStream dataIn = new DataInputStream(byteIn);
			CompoundTag tag = NbtIo.read(dataIn);

			if (tag.contains("Base") && (tag.contains("SSJ") || tag.contains("SSJ2") || tag.contains("SSJ3"))) {
				CustomHair base = new CustomHair();
				if (tag.contains("Base")) base.load(tag.getCompound("Base"));
				return base;
			}

			CustomHair hair = new CustomHair();
			hair.load(tag);
			return hair;
		} catch (Exception e) {
			LogUtil.error(Env.CLIENT, "Failed to deserialize CustomHair from code", e);
			return null;
		}
	}

	public static String toFullSetCode(CustomHair base, CustomHair ssj, CustomHair ssj2, CustomHair ssj3) {
		if (base == null) base = new CustomHair();
		if (ssj == null) ssj = base.copy();
		if (ssj2 == null) ssj2 = ssj.copy();
		if (ssj3 == null) ssj3 = base.copy();

		try {
			CompoundTag fullSetTag = new CompoundTag();
			fullSetTag.put("B", base.save());
			fullSetTag.put("S", ssj.save());
			fullSetTag.put("S2", ssj2.save());
			fullSetTag.put("T", ssj3.save());

			ByteArrayOutputStream nbtOut = new ByteArrayOutputStream();
			DataOutputStream dataOut = new DataOutputStream(nbtOut);
			NbtIo.write(fullSetTag, dataOut);
			dataOut.close();

			byte[] compressed = compressOptimized(nbtOut.toByteArray());

			return CODE_PREFIX_FULL + encodeBigInt(compressed, BASE62_ALPHABET);
		} catch (Exception e) {
			LogUtil.error(Env.CLIENT, "Failed to serialize CustomHair full set to code", e);
			return "";
		}
	}

	public static CustomHair[] fromFullSetCode(String code) {
		if (code == null) return null;

		if (!isFullSetCode(code)) return null;

		try {
			byte[] bytes;

			if (code.startsWith(CODE_PREFIX_FULL)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_FULL.length()), BASE62_ALPHABET);
			} else if (code.startsWith(CODE_PREFIX_FULL_V5)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_FULL_V5.length()), BASE64_URL_ALPHABET);
			} else if (code.startsWith(CODE_PREFIX_FULL_V4)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_FULL_V4.length()), BASE64_URL_ALPHABET);
			} else {
				return null;
			}

			byte[] decompressed = decompressOptimized(bytes);
			ByteArrayInputStream byteIn = new ByteArrayInputStream(decompressed);
			DataInputStream dataIn = new DataInputStream(byteIn);
			CompoundTag fullSetTag = NbtIo.read(dataIn);

			CustomHair base = null, ssj = null, ssj2 = null, ssj3 = null;

			if (fullSetTag.contains("B") || fullSetTag.contains("Base")) {
				base = new CustomHair();
				base.load(fullSetTag.contains("B") ? fullSetTag.getCompound("B") : fullSetTag.getCompound("Base"));
			}
			if (fullSetTag.contains("S") || fullSetTag.contains("SSJ")) {
				ssj = new CustomHair();
				ssj.load(fullSetTag.contains("S") ? fullSetTag.getCompound("S") : fullSetTag.getCompound("SSJ"));
			}
			if (fullSetTag.contains("S2") || fullSetTag.contains("SSJ2")) {
				ssj2 = new CustomHair();
				ssj2.load(fullSetTag.contains("S2") ? fullSetTag.getCompound("S2") : fullSetTag.getCompound("SSJ2"));
			}
			if (fullSetTag.contains("T") || fullSetTag.contains("SSJ3")) {
				ssj3 = new CustomHair();
				ssj3.load(fullSetTag.contains("T") ? fullSetTag.getCompound("T") : fullSetTag.getCompound("SSJ3"));
			}

			if (ssj2 == null && ssj != null) ssj2 = ssj.copy();

			if (base == null) base = new CustomHair();
			if (ssj == null) ssj = base.copy();
			if (ssj2 == null) ssj2 = base.copy();
			if (ssj3 == null) ssj3 = base.copy();

			return new CustomHair[]{base, ssj, ssj2, ssj3};

		} catch (Exception e) {
			LogUtil.error(Env.CLIENT, "Failed to deserialize full set code, trying fallback format", e);
			return fromFullSetCodeFallback(code);
		}
	}

	private static CustomHair[] fromFullSetCodeFallback(String code) {
		if (code == null || !code.startsWith(CODE_PREFIX_FULL_V4)) return null;

		String rawData = code.substring(CODE_PREFIX_FULL_V4.length());
		String[] parts = rawData.split(FULL_SET_SEPARATOR);

		if (parts.length < 3) return null;

		CustomHair base = fromCode(parts[0]);
		CustomHair ssj = fromCode(parts[1]);
		CustomHair ssj3 = fromCode(parts[2]);

		CustomHair ssj2 = ssj != null ? ssj.copy() : new CustomHair();

		if (base == null || ssj == null || ssj3 == null) return null;

		return new CustomHair[]{base, ssj, ssj2, ssj3};
	}

	public static boolean isFullSetCode(String code) {
		return code != null && (code.startsWith(CODE_PREFIX_FULL) || code.startsWith(CODE_PREFIX_FULL_V5) || code.startsWith(CODE_PREFIX_FULL_V4));
	}

	public static boolean canUseHair(Character character) {
		if (character == null) return false;
		String race = character.getRace().toLowerCase();
		String gender = character.getGender().toLowerCase();

		for (String defaultRace : DEFAULT_HAIR_RACES) if (race.equals(defaultRace)) return true;

		if (race.equals("majin")) return gender.equals(Character.GENDER_FEMALE);
		if (race.equals("bioandroid") || race.equals("frostdemon") || race.equals("namekian")) return false;

		RaceCharacterConfig config = ConfigManager.getRaceCharacter(race);
		return config != null && config.canUseHair();
	}

	public static CustomHair getEffectiveHair(Character character) {
		if (!canUseHair(character)) return null;
		int hairId = character.getHairId();
		if (hairId == 0) {
			CustomHair custom = character.getHairBase();
			if (custom == null) {
				custom = new CustomHair();
				character.setHairBase(custom);
			}
			return custom;
		}

		return getPresetHair(hairId, character.getHairColor());
	}

	public static CustomHair getPresetHair(int presetId, String hairColor) {
		return getPresetHairByType(presetId, hairColor, 0);
	}

	public static CustomHair getPresetHairSSJ(int presetId, String hairColor) {
		return getPresetHairByType(presetId, hairColor, 1);
	}

	public static CustomHair getPresetHairSSJ2(int presetId, String hairColor) {
		return getPresetHairByType(presetId, hairColor, 2);
	}

	public static CustomHair getPresetHairSSJ3(int presetId, String hairColor) {
		return getPresetHairByType(presetId, hairColor, 3);
	}

	public static boolean isPresetFullSet(int presetId) {
		String code = PRESET_CODES.get(presetId);
		return code != null && isFullSetCode(code);
	}

	private static CustomHair getPresetHairByType(int presetId, String hairColor, int type) {
		String code = PRESET_CODES.get(presetId);
		if (code == null) return new CustomHair();

		if (isFullSetCode(code)) {
			if (!PRESET_FULL_CACHE.containsKey(presetId)) {
				CustomHair[] fullSet = fromFullSetCode(code);
				if (fullSet != null && fullSet.length >= 3) PRESET_FULL_CACHE.put(presetId, fullSet);
				else return new CustomHair();
			}

			CustomHair[] cached = PRESET_FULL_CACHE.get(presetId);
			if (cached != null && type >= 0 && type < cached.length && cached[type] != null) {
				CustomHair hair = cached[type].copy();
				if (hairColor != null && !hairColor.isEmpty()) hair.setGlobalColor(hairColor);
				return hair;
			}
			return new CustomHair();
		}

		if (!PRESET_CACHE.containsKey(presetId)) {
			CustomHair baseHair = fromCode(code);
			if (baseHair != null) PRESET_CACHE.put(presetId, baseHair);
			else return new CustomHair();
		}

		CustomHair hair = PRESET_CACHE.get(presetId).copy();
		if (hair != null) {
			if (hairColor != null && !hairColor.isEmpty()) hair.setGlobalColor(hairColor);
			return hair;
		}

		CustomHair basic = new CustomHair();
		if (hairColor != null && !hairColor.isEmpty()) basic.setGlobalColor(hairColor);
		return basic;
	}

	public static void registerPreset(int presetId, String code) {
		if (presetId > 0 && code != null && !code.isEmpty()) PRESET_CODES.put(presetId, code);
	}

	public static int getPresetCount() {
		return PRESET_CODES.size();
	}
}