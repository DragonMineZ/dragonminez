package com.dragonminez.common.hair;

import com.dragonminez.Env;
import com.dragonminez.LogUtil;
import com.dragonminez.common.config.ConfigManager;
import com.dragonminez.common.config.RaceCharacterConfig;
import com.dragonminez.common.stats.Character;
import net.minecraft.nbt.CompoundTag;
import net.minecraft.nbt.NbtIo;

import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.math.BigInteger;
import java.util.HashMap;
import java.util.Map;
import java.util.zip.Deflater;
import java.util.zip.DeflaterOutputStream;
import java.util.zip.GZIPInputStream;
import java.util.zip.Inflater;
import java.util.zip.InflaterInputStream;

public class HairManager {
	private static final String[] DEFAULT_HAIR_RACES = {"human", "saiyan"};
	private static final Map<Integer, String> PRESET_CODES = new HashMap<>();
	private static final Map<Integer, CustomHair> PRESET_CACHE = new HashMap<>();
	private static final Map<Integer, CustomHair[]> PRESET_FULL_CACHE = new HashMap<>();

	private static final String CODE_PREFIX_V4 = "DMZ4:";
	private static final String CODE_PREFIX_FULL_V4 = "DMZF4:";
	private static final String CODE_PREFIX_V5 = "DMZ5:";
	private static final String CODE_PREFIX_FULL_V5 = "DMZF5:";

	private static final String CODE_PREFIX = "DMZ1:";
	private static final String CODE_PREFIX_FULL = "DMZF1:";

	private static final String FULL_SET_SEPARATOR = "\\|";
	private static final String FULL_SET_JOINER = "|";

	// Alfabetos
	private static final String BASE64_URL_ALPHABET = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";
	private static final String BASE62_ALPHABET = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";

	static {
		initializeDefaultPresets();
	}

    private static void initializeDefaultPresets() {
		// Goku
		registerPreset(1, "DMZF5:DtWmuQVMUVntld3sgrYIAQBJSAiDx2VwQrMHfuloJiYSIoisFARhYhi-Au6r0XUUSRIoUGldcuLCygIshDAYkEcWeGh7yVh4AQ1ERKhTIJYlkYoyE9fc7p7tv33pnFmFfV_LAcdrq_c_r0eX7T9UOh-qGwWY_9Vz8UCjWqFcoptYoKQyH2ocyOxEPh1AcnMoV_iDlJ9lVuKDyGrb2H_b8klPqntqm8vELdVOpE24lNo2q8KSE3FQdt8qhnSvVG-29SjtJQrL03SEBxcXGgVmNqvEk5_9hMWplSq1-ra8usyN69-0HAzL37xCZcW4JrcwJxN_C_lDrmBCFgXEYT0aak3HTfRWg1XtWKrcX78l07QcNNt_Z-sZY57q0px60Ha18sHp3S145WccVjTuKs5wThrppW6HrkTv6brnZtkpIS6SR1U88Us1J-wHf3u3DhW9h9FncnZ9LunWJ3d9ed2lFai4cr5deDa3to6sGZ_Nf21NaCgRVl_Dbla0ZrVT4fdq8vKFTVY5uEt4cLcFMYNxUU5Ls3JXw2FYpN7HKHpC63CYmscJtRTxoxJx4nvCqBN8vt5RgI7MLolDI8w8-4w0iYPCHhnk2zBFLEWbH2uSCjCcXBEKri0ntmuxXHW1EuN9HOK3KOFkawVt0NIplsyFMKjHIJczPK9jnuPE12muNWee9pvmt3-lOW49q8wLUStyJorc8JFvieIGYl2unn9zvBQrfREjW6sMqab5KSFmXc5HO4xWIT-_Ag-1CLBdgNqQDL44ekHGSlcpA7T2HIKcqYAziu8G51-4aA7cwB0B2dqFCLJ3U1SCCzplUnIfAwDSvHDOVoeOjmNcODxa6Clyvw6oZyRsdCdS7vcX3PHj17MuPdTKVH8RB56LOeGkxJ3hRJPrTTbURMiOImS22TTB_VTJ_avSso7fus3e2WREvsZDoBezT10K38tJIW2-sqe07U8C7Zp1XGqmBl5Kb9QfkFy4ljykbrba30eOqVKD3KpnfEprqh8H2h2kUPlE0cPy7VIQ-mDrnJ_1CHvHFG3n-lQ2bmnNfhBDhE_fNzNZFTW9_v1nNroX_PzGAqO5pw_xPbL-cwxvRel2JXsuhFfk_xDsYnbrUic3_akgPHvxg5zK-vZnjz2xyDzLjgkXytRSgadBnfHbnj9hlpO20Gs7HzSW8TymGMzXvacphqCVPiDhbj0eIrQQl2UQDzQLcPwc03L2gAeCu6NIXEmjtxDmSepsOu8OvPmVrr19wAag16dgmU5eabHwHgxwnPc0yD2S9t687wIjMXA96K3AW-52W2ljD-XT07b2V1K4D5-opG7tYyZWvN40edOKd1_oR39I11oFb_xlWA99RXu9148S0DX3fjpRxHmw4Ib87SKMfrN2HET6AFZCYGvKcvM7i16Cv1mKXuRs_syGHYpp-3K9Pdr0yspYGkIYTH3lf_CLvrz5ugDg4xO9q7XiWk0mWfz3a7VLLPmbvTziqlVjUaVAwtdnXhgB-rtonxNK65lBhjwtoYY0CUsbzb6ttyyC4scrQxRqscUglZSD_jUavMMylf8J9n4hDqyriRkGszzjMpSRc9z8iMeTHzTEGnFRc9zyQ-aNXXM89gP8JzSsyKHBzSAdxbpIdJPftzmGoRLrjYSew8O0K_lmv0RgeBDQx9y8AosSOLXvgDOAnKtJO5hzeDhJKrrgdvafqba7VICvfWVB_O0zXTGK6ZAS9f8RAcHEPUiQyFyuCQKCfJXB_x-gSNdlPKj2qjXa8WS90JLfrYc-9qmcM92rHdC96_0zXjyaBIVvLMy4JsJI99VvZ_u-KhtFMfUyLWaYW7m07FVto5kG0ahDlFtuBTykYGDIQzKkthU-nVq-C4X9_0BOyexU3C9JTBGzgQPv9SERwXKiPbvWzkMH135skQirrfZKhEceBkCEdgF4W1XI02fTJc_fL7Wrlfxk3NZL_BM6YyYMmUrI2IVuSdPq9qBWI2yLapMjqRdaiWcf6jzqCW9B_3GEl4zJEwN1txEUFUuRM3HWinHVNGZIWGB_fCjvkFvw5xTDX5Ud2XddozhYKXqFNoBS-w7IJWnroLlGDnzTSFopc4cazTjiEKWPAUCgHO9CR_VEIgcApdsrwJbFrD847L5tkp9N8yhTYMmELj6HpK50rXr_QvNZ9CqWqpfW_QFJo4XPgnuKaWbY5d9BQaFSVUn0KxsYnZ1F4p4-iZLR9rvq2Po4keTy7UO-OgcTTlt7BpOc-Nrk2ZxlE72n3HLeAX7IPfXMoyF84nNga5qP3s_CKvhA5qzjSGDw1qXnlyYT8QeYBXSXbdw3iKYLZv-8FTCHNIgxnYtqHW9q9c-TLAYIF3aI1jiioeOqJ1BdgPKz3uAJi-FG2wc3BM0dqGjgYO20PUYbvMMlr8tat7wChq8hj86GA0-_Pf1MqnTBr0Fe_ttYEc87NRd8w2uO9mzjwArtuoBIDrgYnl-GnUuneWPjeO0vBqYwcWRW-xzFO8u2J4tU93ARj44IqfYg2m8Wfb3VNxUe3h1QDTdNwvAaZRyVViztPmeYJpBpVPjotFLb_srsLEbGM3r2bM0aleknAnTvXSEAlfsAAkod6Zu90sAMHYRh1sDLHQMWAwti8dQHiolnLwvNXNAA_Oq94HWUDQAcoIODboYogXMD_cdQYvBkZ8upj0BAHhNRj7FeDNuPQIKNosfxLg1echxPDqYOVMxxQQXkNowiVlUJTzzSh0RG5jhTIgr01LGRAwKqH4QAsISTq40rp7LeDDHRAwRIPCHciYzMNuNELNtyHuLBcb6ig6jNIYCFqBJIShibCio370giYhZ_RwyC_QjDHg0MdbQfX3jl4O2VOSYxOCon4LdqEyvMgmYgCjv_jxC4SH55X8QlH-LYMBD9Ri-e8fe2_NSDR47ux2PgMxvG48lTE8tLqc4wwRXqiFQzftpO5VoyfyBD1xCaTut6ALtWhOssy_w1xo01cskvkHwVOww2zjZZ2JQgP6ERbUAicK1rhv0SzfNy2AuUhAvWQSNvNBmEm4klcmdhhWSTQKgyS83uMHIAE7VMv8_JXVIGET_8D8BAucE3mF5xOV5mBfaTQHAb8GI6OVID8xh2D-pKHCfhOv094qyFOaN-IdzdbgidsalWgMCEl4kycNpvrixcdBwhm8abSAkj8jG9fa7v7Nhy4hYByilIl4DczTNspUjY0GdOgwTmrG0bgVAt7-2sMAPO222wD4weQGAAavYC4puLnq9c2BCsALVseAfA14HRWrdRDbljmTb1LaKUkiru1qaS4uqBmPBYbPX-YuJeRcNvEkxNowYHAY5h5IPao0U2GQ3wFJzCSEaVgkv5M8DtlYtM8-PA4BY3hZFHkKj4MWteNYJ-zk5GljQAL6kpPYDpOqk2QlDiX00iSgBRTjUGdAdvNjisg4JNyPKfJM0sKz_4I5kYZ2m1hxJ7L72hvdlJFinD5q6lIpo1VYMgUbKUkpDxkuPNuHOyKNYTJnqZBoOfN4nV5ueiWisUlMwjJiiMhhfGglkrCECpqg70XfDfwXwyNCWoSMD-Ok-4lMfH14ryCSt-IV1Fj4kVGEt3PjWsCbfdcdgNf1ni8BD75SaRVMBDLNmcxPNJ6KgA_8fmAQMPqJjXWbAe_f9EOIFLJAVGo8RwPe13syAJfAj0WKBfb87iPtlwKh8artbQBYciZzgwJk5rGhANySN44if4oAUYoVxavS6Aniy6OxqCnCFHhwm_K78ssX7nJoynGiMvHNz8RhmdMgRZBX-N3idyLHZIYG_QQ5pmgs-p00LJkATvD2nwEPwmZaAMsq6DGFD2-Wp_9eRuOE-Ss-56VqCv8q9SIF1ig1ysukeS7vHL8Yhtd__A718hT90pFsnvKPjIRlzuUzjUjDCh0a8UkIizS85IYBWnEWVw8Xrdy4LEReai7Pl5pjAjBRW8SyKDcFGaKkTP76InzhOF-sPmQBOkRVHdgK1mudgLi1ttKcgj8osKQ7jUpdQfPxOq2i03fCFKLtLACCWfnJQkQB9lpOVPQ9gr4j_fAMSq4VfQ_UZLWhgnzn6sBzBV4wfacUIePTkx1BTNWs60AMdBAqoScaQhrXlN9UdwbFGDKyljmZXOMwN4MySkQOXXcqI9dHwJBnlS6IxgRKwSy3wwDMgPEvTqL9lAotjwlikIBpNBEje1EDCjYsfLbxNI86QR4yCThuyJ9PfFhETy-Ls4DS34vhh3KxKSS8RcQ9_cTiwzSSBDSkFcVf75T6BHmC4WHVlc2PDy3pSUBVnp6HKjQyloqi6ahLj6KUOWQvS-4RFe6NSdmP1czTf8LH-c0yL9APPe_1vVnrjWGxy5AHNTyReEQ4n-STsDh4zCafUkhHSAIuJvVQUA8l3Hc7v3FlnpFcKNZPVdEjGh7UAdVZ8S92VLS7-Bf1Po4q6cHFheYMzs--PMq-PMq-PMq-PPqPvDwa2rdB9uVR9uWR38uj5CXNav2fvTxq2_357Muj7Muj7Muj7Mujmrw8Mk63hac55SaSfXeeextsf_7TfdrLo-0LR2ohNbl0ETxP6WgMA7UWVnUGHOf0ZO0JUtmg1uAcL93YHgD7vvuzADJj6nR8lvPNuvOg4LG8XdjyTsd0073NCJAwZSmG0uN7ngEJU42eWLge3ZThdVK0PLwa_Lpxl09Awi8mnQXy-9imgVAinliy2x2sQkLymvD-7Hul7Hulf-m9Uu92O76P90qdcjt9H--VHp4XTf9eKfRP");
    	// Vegeta
		registerPreset(2, "DMZF5:O1aDXBU1RV-LwsNpsQiBRooUEBBpSAhBBStye5DEYqjg2RqS0sHu_wYDYKJxLePyk8tViyg_BNCggEMRiEIBJDGkN0ggqGBIiooCgpWa2V0UCm1atv73jn3vvPO7oJpaIZ2lhmGTN75vnvuveee8517SdG0FE03LhF_UzRNa91SS8o3_TUjnhc_FISyx_YqtH9jBWYW3OXT9Fxhcrf4N0_8m6SBbQ__B2A7_wd-sG1XPR1tc722gX4v3Q62ZevaOLbh3w3qgLb3MN7P7hoNtqOvuNSxjYw_-ina3st4X7w0D2xzuq8DH358sBva5jHbbXNagO2CbgX2b0LZP_3JHAdkTxtBk2KChL_CKzS5L54Pfdsmg79itmg72Wtr-F6tBtvb5Jq5tlOYbcqyKY6btcpNseJoez-1DZpZU8b2AtBlo6-AAeaWltufLPnJCrvofDZSz9UBAI2ElaGzLVC2IlTusEOllW1rZoufnLHrhmlAU6doft_VDqcCC53It3Zlahrw6f3o2IIm74c3wzKKTQb0wrJUQOMnK6JiUE9na69A2zaGnMVCJzyg_izAVJA_88yzACqsqwLQqdJyBGUwP4NXVsCQIsAAvRhCLhSp8BWDw5P7mEBzvOONSJPJaCZc9TaLxmn9b6HbLGjQxqoTm4k0A-PRFE_PAJrSp96CuWCIkeVzJ3Ud0uhIM6anATSnnI0SNOsqHoRJzft7PdDc2eMoeCPiEWkGKxoREzl2TLQBvuVrpjK-csdRQYPrRw6z_gSb1Ao472bg4KLX4qD9Km3oC-Kh1coqdG7vyyCs1TnXFzK08lyhKxwQ2Q43teiL4qUATG8hI63zEZZa9MXxhlTT3TOog4O2ZwljyxToHkh9yXlXrf7a4UCDgW7JfabeLGU5oOvxeXTe-aEAhDVNZ_oyNvbUa96Bsf_hOCHQh1_YDENOz5gGaLGgiF7O0Due28CW7-3ajnQBBFqVFL2IoXfCAAT9xo238iBZwTZKHEywPXT9e7Cp4gChbTGzFQkEbNdA8IUikG08u7GSgTAXuMc6AqWPVjy9hIHUzokshialzERlHSy2IXSPVl19lQKJHwrtBC3O51D7fLaIl7M3FX4F-wWfxDGvbL-arTR-Mu0sDk7k911PKyiF9xl3BiuHzpJNNI2Z_l0v2hhwZQWik2KiqetVQEPQYjKI9qkptNKSJga15MvTnT9iPW49Zw3j9TO0E-snmSuUN1Ja3fKm7Y0nfGS1wBD0iI6GeKCNUFBCRs6Zfhy0P16EPL7qTW57gNmqqjGnJN-rMdzzoL3CwgCzKBFoj6zMgjlhALv5KqAqoHaI0Yzo2podFVmGZdWwpI1lqJqjvc7iAaWKlEmCBtMJ8UamvYCqgNphRdNK0-_TvjVkasEDkyfZUnhUQgonpPBFL4VPzdjReCnccVZ6bCkc-E7vD5gU_lV5N0jkqW1bXggpfPYvDRdCCg_U9zePFDaWdKlPSOGEFE5I4YQUTkjh5pHCgVFlwYtQCv-zV03zSGFjeNY4bxk2Ck9sZ1I4I--G5pLCOVIKYy17K2sGDLDujo9pdhK8-MkKiCKJvOOQtwW69_mwLoCuksF-euiHgP7opt9wqTqeoTEPmoY4jGzsN2ve53JuAkOf2bsd0Hi4ydindndmlVCbyNC1W9qh50fuBDT8RqDxU6ymQKKxhJnGzq_GM_QLm96N1yZINFYu0zhw8ipAv5h5AtB1VcPiNQ4SjSam8eQjxwCNNSIkexXXiYi7-Pcymieh9TGNgy0LgaZ47dOAxpJt2WmedRk-RIN6FejP_FU0k0QnEE_8TGI0a58eAjR7C8upwCNOuJe9qiXxMWlhHDpeTXsegcbmh9Rl1aT4UArU1XX21LBzNSk1qQsb36ScuLw9DAD64Rs0KWJOs7__FKD_1ukLQM8sOnz-biWVxmXQrM2UB_NL2Yrhp5A_GeWXseb0YlgsiL6gFah59hiUt8F__SUW2z4sbCIDKp0RAuOlo0UNs2GEsKY7I8jBpSgQI1Q7SyxGuFqqLZG9cIS-bITnnXIpRngCJm4ap52UR3Of6kWe29AWiDt-XQTEKmb1axhxM7ZyrpZMp06cu5VzJWR_b6jGeNUQ-oOvYwY7HZsd9SLWcfPEMbCOc519ETRbBmSys7pR9nTqrOoD2PKVYzNmPO40T6rzoAoczzOlyYyXeKF3EDQQUrQ1lBmY0Axks8OYNWU4m3YRpak4GArPmHA1rFaRcQSIIVMGrewjO0ZApM97YxeOMIg5qprPewrmsuZTdKzeDXcPtGo-ozLllwce9iiXUASlt6WulgjNYHrEafOJratp3DL5Je82hFX6l9dPbuZVXah0C_sf04BIon2kRPtd_b-AodfjGXA3MQpNuoeFDA3ZQKBB76mDLdBbodWiT3yLGPpPgzcxtOwEpeCzZH2O1ZdGlfCfbz8Zry_FyCTZXvWlkmafg6bbEd2X7t76a94bLWU0x7O3QDj3NDoBX67T5gk--ETdQmNLJlpKvCyeSlKH_xPo1Iha-PjmrbzHWs5ozg4fCTSPvr8LaD7d8zCLOqm6SNwUeWn8aU5uJzT-DpgGFY2_PYaAnQ5Yfyu9-bNcpNmzc8Gbk5FZdG08S1LM0Af_MIJVrv07vgdOqCXGbaVzWclo4A6A0iAxSWQN1z3Er2RKGA1KNZJWoTII9JbKofwyqZSh0XOClnNxnZBzIWdqlaKJ00JDPQia2Ut_lAYDCEng7dbC2CBZMhtIwUyLpVKZquOUSdStPVLpEc2rM5qSqMdsJVZXyOtzV-omxbyCEpORqsi9yIFPgmZJVBU-b3fdulm6a5XxRCWvhLUzjYdk3L9aPZ0lB7jyESXulZwe7BxpL8dMXoJ4m6ztqAlD8lMoXL2vKw2joBXpPnMF1_X1MZNr0AyX_Wwtk-hYuEP--Riodd3kDQdqSytcmTyc99f72AiQU4XrKPxMY_QvfEzpluA9m6FGwE9W7WM37YYRRHHHEf7IRsCIMI3ut62MeblB2gzytNbAaDaApjaNsW3mew-QnW7ZAXI7kP1eCRjo-XWb8957yAqJecM0ym_AMMGySpICCGcx5OpjaewmxMcPnbrtg0NH7x6W4bU5uVA5xGjUAii1Hf0oiHePVmDutz9hNyGSBpfaHJJS8wWV3SL2VSLC31jhLkWPsZuQJH4TkjQqI_EqmHgVvOhfBd1Htka8Cj7w8mtx_oPckrsPs1Zy5KOzoBVKm9Yp8SoY-1Uw8m6HtRfiVTBpY3ITXgVvn3NJE14FVU78T14F_btSezf6VdC9-2_SqyBZtaa8Ctb-tqy-8a-CC65t14RXwTFn1__fvQqaJ_o1-lUwa0_Nv77BqyBMe-fRCY1-HiRnI_E8-L_0POjKz8Tz4H_3edBosefDcz8Pav8G");
		// Trunks
		registerPreset(3, "DMZF5:7Vp5dBRFGu8cAkHkiMIGFjGAuBqBQBJRXHG6J8uxCxveYhRBcZFIEAgEGcHpxgMXQXFBUQLk4AqgHAoip4iamYYoRwgCAgqCCj5Rnqyoy9NdVt2a-r6qrq6ZTicz8e3-Ae_x0m-66vdVffVdv6-rsaI0VuK8SeR_Y0VRGl2mxPv8no2ZWeRhoj87TVFCD7p2nj74DM-AqqrQL4aWqigJStxoMukB8reA_I1XIs726Z5ZVfsAZmkNMCNrDRMMgwlaMPk1w5DZ52uYPcppdhZbBE6qWSUPusLk5-e7q2R0rWFqVMmYWm-qRt2M5TDEXAZxczE8JSWldOwOPjaus01kxCFd3Id0dR-SbhvCdiKOTeNju9VhbPc6jM2ow9hMUYm5ISU2h0OBsWQ2PrDZeYY3FSzXyG7CYeZIR8pnty4plmb3w9khg8XZL-DshPDZkmyTzQ5as190mh22cpOtfIe18rlOK6_Vvouc913qvu95Me17fkz7XhDTvotjOu8S530Xu--7NKZ9l8W074Ux7XtRTOe9OKZ9L-ErJw-TycNlxOH7hBw-MTTHb06AOX7zYxaF-Z4gQOfR4EtxQ5uTNPFy_qiaccTpVhCPi6jQGmG01DDdKPEijMPsUvtmOIzZj8MkcJhGSvyoPKVhx270H1HVAFuCKQPDsPaxyyE1CEN2uw_Z4z5kr1twz-bBXamqw9h9dRhbXYex-wWVxo1XGmRP8j1cOC5U5d3BqrzmUhmQVNEaapEDcw9LtciWmYluVV6jpgX1UeXF_2dkfVR5cf3fiKHK43uJrcq7vPDd-qjy4FxirvKuPH19VFUewFRVVVMX17Zcf0I8IDJ7qhJHPVvdvrcdham4-66ZCFNgDxDqE_k30NUEiUUBzKSun9LVmNvLLge81WktIG4lPDwPIkWLodci3jgpGG9c1weWlfNiOQXWrtr-OABPY3hsfYHsnGsontpBPYN44yU8vk3PrCWAtzqhLOJ-JxoBC6ZQ0lYARPrVReBTfu3f1za127WHKMmOp408_h3iTZDwjr61AZbVt9lSwJv94x47XuBtavICnvp0j1aI95CEN2-ZRvFunzD8OornJSoGvOeuUam22CtxmxNFGDKpE4Uhk_6S6oOx398_FMf6wmhCE3uwMnMyprjQBHOyucmFJpj3bD3tQhNMdW1ybWmCMNaVJpg9z95XW5pgElVFoglEiWj3ll96M3-3Wpq9O9UXRhzgJDMzM2A2-jnzauLMn7TuhZOycFIcTsqnPpzn9xzM7QDmxN1xSve-FKaCmycONoK7zg8H4LLHMxD4Jmk1DFhFV_OraJW6Z_FLH4de6RUoUzcTPtgOEgpu7A21W4tnb5YsN-4WaenDOnlhxV8vfhmAV65-BDaOLmF4Bnc4TvGYKMNsvGAC4vXkeLUnXtdlTIH6yYKJgnh5eFSMhnhZXhgN8bIiaDTEy9u38N3oiVfAOsxoiNdU3_3REy_BRaMgXt6Uth9GT7yC6e8OjJ54CdYSBfESYmtZTPuOgnh5iV9HT7zM3Avp0RMvIRtETbxIADaHVTgxsFn9rq4rAyN1HwnF9UfFSKiDakLkZDzY15qTkQh8hhY5EcnZY9NH15KcNbGTMy_PdI7kzIonjuTMyx3XkZwJKK7kzNv5gQu1JWfCBlzJmbDM6jqM3W8vATSSUGHSzEUTxexLakKea5WDkp2MpmUySbGk5oLZMxbeLhG4odROiOx2n8xGmEMSTP92TaRCd82aVwAGU6zBxggJUDki5WWsAP2hIQDTr-2H0mowd4uaOMphZJqaa6epastvOttL6uzmT1ZTSWryuX9BaTH_thR7bc1e0WpWYrCJsHK10eidUFsnGwvs9E9NAhXroeQLeJc9OEcKz5zKMrwGWANpK2kZQlTyOa1vCF6Dr9IABh5sTClfgmn2dSXAPNx-JSyrAUQlXW0x7q8A07TgRs5sJE7LYJK7vGonSNkpF9JFmDxd3XMgFcIKcieDCTcCP1DSSCoyUsdJdJdJSDp7H5UQbPzDfOB2jIKpDbE0C5UAAAzKnmjsyArjvQwPlyVsPHFtMuDBfsXzYBrw4NGLpGeM08EUg2X6vZ_uPosHA6SWHYzAFYWDHivhXT7mR8Cb2eoILDSZFooErzF1IYIHGqiZGzO8JlAGWySZN0NQxwJJZlZbI0lmwLgIwQZagkuyjQvFc7gGIrBlBgzeILBlyycTV2VT4_Jk9buaSlD5mSVQekOSDRqMEbSIb6EkIW5lc5Aw8rcvSRLiRw2D-PInar4EWPliByz9o6Md5b7VBCevf_uVk5J7MZ1wCsR-icSoGR7u12LU2RkD7wA8WBaJfz9XDXKl1mFndlfLZYDXlYYygodat5iUyt0LV2GwkzZC5yoR8kROyK-A0P0enZ3nr8Cj8nsvAjPT2SviyfSBlEbLvy2CzezMOgWiUIFird3ZvhlPMHOd_RS9JfumgwTslOhMuB4qm0HCdkpFiYQbEqC0CJJMIrUDmIQ3ul0JEuaUHAUJ365fCxK20QdiJ5jgDM96Gk8IcOufSgCYvJKaCAx4M21PkejG7MSbi_HTswFCq_4OHqe-I4s11PCVEejkbQOWuLNpgdSDYBLeoUGDLH3JkmMg4SyeNGpAiJ-eLa_pEE8wCxqhUlBqWDDgt17_DIDLTg4B4HXUlggwyBSVjQo02GaMIHErqbvBgCs3PwrA0--8E4Anm5sAGKyCmCTvRlVsvArIOB6w4O28FcKAN7BktQF82x8qt-3tDatt9lpnv2TivDkSpoFhxcvtqYQZl846FUI3FAyGmAc224wgKYSkTkqY3UFblHeeBbuzOilMx6ztEqmTwoDRvfzM84ROCmpUD2Ce0EPFOkhAWzKCldBVNUyS4lBCD0kCakBQDqsMmN4i9WqYcpjwSL0aJuH9nq9Llv0PjIn4imgdG0-GZ8_Nf7Q3bQTl9BRDl9i0eRVTJuMtQlsorP3LLdvqs_I2DlvxckhNfrYIv_dYwx6At0JOaOYiqmMiAWcZQWYw3udXPyK1epiEcpbQeMOa191TaegieKwFy10mwKsv3vyR7cQKfD1prcCDt2AVrLAQmypzJbxdW14DvKJ77gY8Qp0AD16RQMrKRBYIrDAncP8iCfjAm_2dgNFOdMzbBLh622_AU5gGNGvF8yTgfbc8BsAF9OhFDezdelrqjfMVv1rZFoDJZqT-UpiDzPpwMACn0MKRx0_uIEKyYv4qFHq89RS2Yp5TuCpw4zqL71apy2YZjOUYmhX4ip0875akRSBhOoQIZhWRTlFlxb4QoUtcgXmEhvURl2b1GF8xr3cEly51Ag7S8p8A52AxzYGtLBimCqtG5f2uRPkLEaMT3hGU54VyCn0Van_AGCFHWVax0OnwvqMHQ_D6ss98cHjC-gIsS6v8uwjviYWl_24zFgLefMppeBgmeBiPLXcQAsJiCc_c1E9Kzvzo4aCFE7cSkXXiSzhepL4ZEYCB2q-dffsL-0mpKTTBFfisj7fcFo7RwUIHDNuj4tIVBVpWwePgt35zP_tmCe2FPJ05uW6iUMPTgxY1QkYSmh1yb41J4JTN-wa1OyIhB4KuzoK4kFW7JDe0UyLzQnLDSN02IgH3KcRjXhux-GkVXRATbVV6AtcJ77b17t6te3dbt81KVOqXJzqBmKVzbgUxUGUQd8G-kFA0svULXxp3OfnhOvq9hgA_xsznAxowBLrhOXTr53Y7EtjtbgkYYrFQKTEqwcI0if9Akgkw_mIE208tlWId7wcyYEZfOK23vrtjctTV56hnkjNNZUUeUhIjiOdkaFYHda9TvYt8QeAAnCCxeO3lEvCVoS2n5yAGAd6EZBJQkX4Nv7EJOQxiCcHDzGwVSAIx3-cUpJaG1UXcCokN2BcaxIaVCFzttFAWXax6l5mHxs0bA7fwJYR3PhPlD9vI8fzeX8C4dM9HvQZI9TMMtinyoITHgxNnmicoW-YbJw6ONiU0JiFm2rqth5zqLG6-lexaBuM8Vr8Uc6y40CMSHuQK0VjxF13jJTH-Ip7HUSE82Pql8XdkONzrqXiqfE_093q0BZMS6-FejzbGN6se7vUE1rQcc-lez6V7PZfu9fwf3-u5Ka460r0eMRJ1-qm5NOmG4m0uN32C7xzPd7vp0y59xa9x00e7bf-ttb3pE5y-7xeHmz5vZv5Zuukz9N4EaVXlB1bV_abP4bXP1-dNH23QuQQAXpXU69e96SNIqJebPsGNEwdFf9MnWNTmATjwZSdTHG76jP89VJna1GXHAWbshq1QFw-cmQR48AuJTOfGTgO8beu9Dnd__p7_T_xw-qgP8EACgZm29wU7TMB_Kr3Ol4AC740oks0kiktAgatLnnW4BPTMiUOYyJZOgtkzcjeAJS3s0kpeueMloMGj19n3rR77ZTN4RcfP090uAZUuetO-cq3y_kLY92etVrhdAiq-qkQyhfXl2GV5_29jHS4BzT7fUlr59ObtMSWdPQyy-3aaFv0lIHXHFWlul4DKTvWX9v3EgErQWsqUNm6XgOa_nyTt-8iahsCic777xuES0NMlXphtfIXcBH4hs3u0vog3BR71uV0C4nZe1OdLWPnmZ4ZjbB5zyuESEB4zsdQh8C0dfyGzq0-_ArNHvJxaq0tABO6JixXQ8H3rInwjMVfOwDALr0iQfqhrF5DkH34vSPp5_BHYZenBXEk3oBKS0Vcd2w5xolnaGVFbhIC0GnVSTIPEXMqHrABjO5Nb5NC6YCvV_Be-B-DK1nfZgQMtsjSIRMRuJDvc84cpke8H9TrxzWzY-eG0pwDPl9MGAnh62-EQwMc3u8ke2YILeleDsk-PO3npotCli0L_o4tCyn8B");
		// Gohan
		registerPreset(4, "DMZF5:O1bCXRUVRLtLOx7AIcgIqAIskgWRMIMdvePCg4cGCWK4uAWQQJR0AD-_qwiUVEUkDXsm2AEgkENIoakO4AQNgERhAEdUVBERUcPoChT_are--9Xd9suHOfMDJzD4Z_fr269V6_2X1R1uaq6Yowq8Leqy-WqXsEVm2O6Fy2vDQ-PmuntXa7gG597XnMj-Mby9zv0TZwrJgvWPgD_ZsO_sS4koiUa0YaUEYKo9F_39SGiflGJ8lvVCT5Y7hHJXQS1p7jbG0Tdn1EvvGo4o6adW952m3sS0YNRiaY0yeH7HMCI5r_4D0ZEbyyPTZT1i4n89daPJqKBUYkmLTjIzzTo58UIDJ47U05rs9napS-lhxear-SO2ycg9V93NyHqhxh1qGpMa7oct2cTPRyVaOL8ZUhUNCGeiAYrItDGW4PaWFkQBW9FbC-4Fh4yLb__oXsEdeD4xAVIHdNGZwlEzTzHkdO4ho8g0aZrPhREZbHn-hFRWydRULmR6Ik51XSJgDbihjXeGsw1juNqLHNvuw33uUGtbUdr45Bl8E6dLP1zRqcgy2cbV2c7r3u0JcEkseM-1eESHUanVhuOX5VA1Mns3HBz-s7DHrfBd-2IOoXd7r3CoJSiAnWfK2tyolQiignebkbwdmsJ3saM7NaCU8C1ZBgKy6P2OVnnlGleP-Teq1BqJCOpurDPopaHUXW_v7ImUU8Jq4WwdnLefuRUUH8xrZ2qXwusHS1cFxwFtRuIDq09ikRDgqsE0TRG9FbhP3VBAFHxiiO4K9gwEU13EEl_B-dvtHMdrh2bcx-tnaGvzTT9S9ASzKD7cGpNoEGjAwJmA8nI8oAFEMxMB0uLvAWwrIyu0Apkde5Oa2ex7a0SJ8i0vIk_5nG9z2Nr0d8Dbp1nrkPcHikjaO1stvb5yz0oomPn-uHa1Bb5tHYOk2vTGh2R6JVVCXiCFxbV4Dc4VykYrt3RcRTaEyo3cDra6WMk-rJnLyKaxzih2gN14LWuOrVuEXLDZRX7lhDMfHY4CjFatIxZoLYHD8PhoQLYwU1BOxA-zQx0Rc9tBr5LqIQoYMDIejTJVSm5cb81kyk3SgRw2r4-EnHWoyfwSWH5vKBYuvg0ZQk8fayM3HAMA56-2OvcYFlMtzcQmCK0jzw0AGMk1YC1fCHWacw2Xg1BBHhtxclB12YJZdZdgStOUVd2xT6Y6ap0RZL4A1LsLmNFpmUkClUBCak7dm118LWMjmd_4nlFOVtCW7OMcdKZuLaxJRVvfF0sSa8_dR8t2cGWJA8_hyhnpEG7drIlseOv5Ut2Mfm3qLVQty4QMtm8lX752qNEtIcp_y10DwF1EtAGWrtXk2TMw66K6cNyhg5-KJgG9pJpYO2LaeDFNPA_ngYiUakrRvgLz7ySRAz-34vsIki9fYfYsFtlaWPFYsCz9XMIw9v_1hqB5-0iDAvwQEZOvNJi9HA2ngfyK8J7JIJ_VMmJUafPlc4YJ3-ySlVMdj3qTMGM5gJGma5DC3NCMuPqSPTagd6_OjP249pwmXFgUv5jFyAzDkBKFyUzLh3T_2pcm5ub9Tsy4x4vLOJ5wH9xZoxEqamU276a2h7PfUpa8weJnYmoPSPqLzKDTNO9J6MZik9ds4zS9o3RYsu_5dS9PD29lh1BAnvSe1wugD3FMvyji8r0lRBPXyDu3fXIIbv1jRjgZCZoG1BMR7b1vuS0vCdl8rU8_zE8OFmm5e7d7JDAk6ysQNWZQwgvLaSyqP1HVxZ5ebORKBEfLHqjBWDb9GNeYEnnxbrkYl3yf1SXeFBYdl1igC1HqktAfX5pXRJYfuuXF7IuCey9YZxel4DQT5Ks7QJFRcyoBUp16RjmoKgg4BPlFlYU_DE1DJyr-_btureCtW0e-I7Wbv8frHeQQbfGmD158-PmIPXLL6_ANIoikCXXWIYKM673WNiiPM2U2utzd0Wl8Hl3T92HMBTaLCPtxN0Es1_B8Oorw1l9eep_1caZ-KbXfnyn4ORJ-OIsRt4Zf2ngzIDlTyLnZBVaPO7cUzlrI2bACdZMBK5cMxuBqwinD5ZD7VPLU2HAZHGEIAdWvEm8ipQieJeLKA0i-ViEf8Cr-FkrhMGHR60SG6Y_g6l1chPCDMVKwkwHR4YwdUSqBTA1KaSXQjbC6joJk9B2JcJQbmimQ6qlw2T6POXCeYJBU7yyJHOr9PTRltyyBjAOVU7cjWGv6ukZzrDnqUSZi8w6LRI2eOX2Mjyr-lDi0ba0g8eTi6Tz6vchJeCmq9dLk4GRLobclWl8uPUEXYz4SV0MSpRf9CCGV23gGcSbcMl7uNEEtFGfp6owIcBDCWRanvXbGvMbz2Z41TFLND1UDZjpsSKGBRVRyBjyB-piSUFCsIkbOh19L9RZrDqVwLQJTQfqo0nKg2u5ZagE7AxFVbASGK0BgN0TFzCbjBf1dKbP3b7rZYKDR91ZXIt8DBukMHr0Gcw4xGAyaHr7Xfoi4xD7YF_0LzL2e1zHynDr7--_gtfRQyJZPeV-mnlJmagKQb4JV_dKPDqvnTqnp_TshXi4LfB_P22_NWoBHHJnt9dfjHjXCFcGeCR1u9DwKPOiXVjypvWOR47iIMvmGui63xbUmWYJXZVp_ICFi0_-BJYsHiA5WfL1NDzMxvYfISuZPAeUV1c1Nh3G7U8tcN6ikbcjFzlQP8Mnmfv8VOha7vUibwEOV8dhkuDfLYOtKsglhzeS6iIHKhpM4-tXViGHdeIB9IQCnEX5qZYs--EnVqJL4NdFMwC8m9QTI4P8p3sNulafzKJ8ZdTIseRPVmlzoyFq4saa2aywlxwoHTe9C7CjZRon6KZJApr_dBet9qE_oSiol2FJDBjrHACec-ROBC4QumT3IDVhkwC1lFA1rlQXQAJvErkrANMHPdMYHngNgVErQCVVz6jk1XpYq9IF69l2CgNeI4PVGrRt05goiLTq325urW5jMhVXvYMQCfSdtcQZSqRy-WQhL9sKAIwKA-pBLTErmOiyRkOI3lHOb6arzwFS7-xGg5Sx7EqEazRIYDIvU1qe1mggifpk18gXGJWbhRxkaWf3sCDEEYcOjANJQBOOzAyk3MK1MqRwVMsqTCtDcngnrZBp9pfkE-knkDr1ZSx3-XU3O3samnDSdNeVobXkV1LI9DahKsXumqj-FjYtNc22u6Gq7yF3vARDkyk3YRoHK3VAvKU8oAXmCRkDB6Ky_FJhDLtzOIVxWCQDmozFdt49VrguwJNFtzKZUpV9qW4J1xPb8aWJXEE5b00rZGKh9y6mMrwtRasRb9pddyAeFEGIhz-BI5VponQEtpszQE9Y10UC736zWyRg0hMfxW0A3rnuT2gpUgJee8fTGTB2EAA4G7vnmgS2YTNI62CrHa_c1AiB1TcH1cYJMZCJ2Fc2Deze2C0UaSBasJL2qiV6qrETsmMVU5Qo6OA-6d_tVFdSWbLKsby245sVyfI6VpmHHHLRRUitCHeLHpnsax46Lyqw8tCsk6PtWOU7mknPjgRMfWTT6EHJtAK2o2CIKLQu2hwG_GrBTc5yItiVoZgifgI8WqPFKFsr5ka6vG_ExQBel8Gb9cvT9lcqo7T9OUz1skLCf9KTc_VGrXLDgEf-2DYHzSHMZ3jYEtODs7p6vGjtxu1AFNoBiw_bAQMG5KhN74niY-ym0ENk56hPR7YuHBSLwUc2kd17_G6nbx2_BkCuRU1cs0zWKdTxBqebK0Ndar3BOk64npgShUo7U4Wn1nvqygoo19I_2MWy_dEZNF-r8h6MyXpChf7OkYHHKTzVE7sxOSk52dETs4OQ59PDzZHNwsmdkA1mEHorTyWEslzTvvVtiWRjBfQ11RglVeNdIQatlHDvFW1YTUe0ynUrA0Y_q2VBskyQLhh8OxbAAExvLH_TsbOZH1NdOwksSxNVsqdXk8ZGgc_neV5YHahGE5nAUblhf0Hwqi9FqukXkstSLaDl96r4kb7YUBzoJ8tLrX79e_d2xoEEaXrp85IWn9BPAB5FXTv50YruHZEc0MKQnEdGaPl90t6on5pROvDOSBuVnsPOZaV6eJV6k1PWzW8Xw1Oflql-M43z8uPj-527s9wYFzsEuYfhKcejzPmwqITVwTN9Uqe0piN9IrC8KvaoFmhIDqXUd5O4ca2esXuhFD_1jb7H8DAO6MpKb-SXaZXhOO5jv-YeHL3Q2F4pshla0zk6YKRPOOgcRSkZv6icNTrVd68DZyjbWFvIesprNxdFmkmJY8MURtWROb99JsX7TXH-r55JMS6dneCcSfEe-nxMlJkU77pXDDaTcqpwZJSZFKNpj7lsJiV3x_koMynBzThnUvwnx6yLMpPifWfcIEyZ-_w9LspMindgzsQIMylG7aQfo8ykGPU_edo5kxKo1HdElJkUIyX7z86ZlEDvztUizKT8phkSb0GXthdghiTQqeiOkBkSfS4E8J47VV8fEAEYeuMzJmW5cVv4Bjxwu0Y4BBDYfLwVa2fRKIb707Fb9SkION1lec9gFB7UHBPS4BvWqpKGNNnXAcP7LVt3smmSSe2XYY15YF035h-nxvbGcLwstojpmOpZOTkEpb9iPM149P8W93fwPH638ic-nhRu0CSodYHr2cTJ8m73sIkTfAN4_qWoxf4p19VjbSiSlr9L8yecH8G9tVodd46eeGskn0ahN263lDWd4qKOnpROW3EeqRM2T2adJXkolKw-eoJC0h2mah9JooJjAWy9TB-wn82gzF3YEmEKB-O8gf-lKnwYJe73DKOUvPXDnXioGgkVWI8o7sIOowQajGh4IYdR_BsO9f_ZYRQAXlcNqzJ3TOtLkcNPVxWTjM9SiMSHTKvz4a-eYy5DNW6kKCRemMmVN3tSW6VoXHNsBE29G0sH78xh8axNI_F2zvqARTt8E6xkYsiWxnmS0dbNj9pFmGVBlrCb4xmUD-NGg4003LHlTfxgLootdnWlCGMuuBZgYMMIgwFbO1Rpq0nPYpQDZf3ZwReAATky2SAeXOJXhV9wmOkMxv95JxYsS-5PRJiyduXopfrPSsdD9T29MtyUDMAsq7jLqQL2uAz-pMZlAHhx2mWsPb1v1aSwczOme3utDUyl8E0wzzZqOFXADu9spMaktXDM-Lc_o2Rw6F3OY6oPCIGYl74OO21jkmwApvO-v1HWn9HTKXTbi9pOZDaDmT8Iv0m7F6w-h9T4Bm6-oNLNSH360x0RRnNW9l3EzqJmdFYk1kFjWHykAWt5cIHamURorwfXwFmOr6KKqOeEKhHGd5QCqbwudI4HxQYirvt0OY9YF2COp_Td2mmoJGMXH0KUnB4NsQQuq9HKOdDj-bbPeV1G4QZ6vKmdjkca6Bnvah1hoMeYvScjQvNiyMaz7D8GVCjYS4F02xQ97QDgrKtnMPOwM1A20OP9pO5EFtXkySkwawM9_vIbRvyKgR6AoPxeTvZA5dloQyENj4zMYY0JHJizY13wMliLQerMkxlrcLPPNMtEBk_lGU5foxUF5Yx6SvHbSE2pkUVvYHtV3kzj1cE2pl8hg0HBU7Jqn45S-mHxEZodWlvICnha4h82mqZ-BvkWs1Jc7hcdDLBGUwHWpcvynRmmlj_vYtTWZ6OQeswPJUiND8CyRVyLCDNDSKQlwEH3fgFmhjRZ_a6ZIVt7IswMuf4N");
		// Krillin
		registerPreset(5, "DMZF5:42Jg4GJgdGJmYCxjYGBg5WBgSk9mYFc2AAMOBsY8Bjbn0uKS_FyQsmDilIUQpYwp2IgIdQwA");
		// Trunks (Large)
		registerPreset(6, "DMZF5:7VoLcBbVFf5DwisghCAIVDEqiCCPEFIERvh3NxXSwoQp4IsWCwYCwQhIfOwuPlAGKy1alFfC-6WAAgooxWIk-0eQR0AeCggq-Ci1jFXAYdS21t7_nnPu3r37b_4kP9o6ozMOO_n3fPfec-895zvfntRQKDWUZDRk_6eGQqHGdUN1is3w5h7Z7GGymdMpFIo-WPpZ_lBshwdVVkb_YusZoVByKKmQGY1m_xaxf-uEYloXW-GZlfsAZlkVMGOqDeP4YBwXpqBqGGZ9tgrrsUHW2TQJNIrhEufg7HcQZlxcmIKCggCXlP--Z0uEKaw2jN8leredgxFmfLUX5feNfrJ1X4S5S4bJNyMZs_ooMG_2bBn9ydKvmrog-mDr4ZlL1UXdjTDJCJNav6cC80b2RxzGyXx8EZ9W-LZbZnA8Z1bpUY6nlQ3cingTvHjOjq6nFLzF7Q2OZ3R55UGY1spRw9H6HsX6TNlpxXrZtfdz60gu_wubBHsHrScLa3aDhkRvUAMwejhrCvixtHQBn3CFOGNJnT3bEfOVLvFf6Rr_lW6eV6xwuyZF8rv5trZ4e2sw6iSMMmWHMKMbW6UqRut2XK4adVeMRnCPxzHKUozgyMUx6oFGKVGPD4t6PA0ONRgxGHxwYYwMuPl2TmMBM0u5EsK6dWmJYp2L1tELj9ZPe2busVbGjpC141o_E2Ttm3mEZl7hznx20Myrte45weteEH_dcxNa97yE1j0_oXWXJLTfpcHrLom_7gUJrXthQutelNC6Fye030sSWvdSMXP2cD97qMsufP_ohU_hkbp81PB2PFJXdOk7CHDzO6zlkZp-srZD3mAjzV2hQ-xu_W0prHLLjBQcoR7Ob-GqNZCRJsFszMh7lAOEt6Z0HwA4NGPD5Q5JMX1dBV4-pz-K20J1FJiJnU1YcH2eXdmCO544DzCFnZrBgnPyruQLjqZZmCj6wtZ7NVwMI7iJPFksvEGoztj8UP1rMvl_zMGDRA6L7s5COE7tdp9By10BSUd6ZXf8V_bEf2Wvkrp8uaH8qVcvAyORG0KVIjeA0UieuWWjRwo6qkb7lCwUbt03_kj7FSNfZo1l9JYwahBKmhCql3Nf8b0T747y76HEv9NkgsbYyOl_j-Fbbpx7aX1M1plvvz5p5LVwElPnT1IYeXLIixdp849vgN0kDdxaC2ruw2s-_usAvGpxdB8eRhEzpw4s3EdImWe_-vg6jhdpe_JJhbX78AS3bPPse_Hou-HijQvAc05aowGvycGMeDxe8_N4H96B4lGA15wvqkpCr12t_U0h9D68zx8pALxWF7rFY_aR5Le3Kcye8Cor93M8fct178vbyqynhpKAm23b25bDRGMswhQlUCCEXZiLUiBIBceEoNXh2Ka-NnlhzGUyGNfpE5W4XA6eMIlEm_o_2zXxXoKwyD-Ep485cR7xJnm9Vd26Bc7q9OmF8QqYdChBAgoYOAKFfQf5KhkIOO15wmTWv84oBk98KWqmYjFzqnpQN1j_wgdg9PzzL8C64YHNnPYlcn_kZaUOon1ZtSYHrPHBDq-kJDaiZCVYa-vTlRKJrHFIK7x67QNgDQ_MeunS42Ddo8NapXoia_CR8LkUyfUBTZeB9WPtmiiFFVmXrLwPrBfACZCs855ZDtaLu56KWWFJ1kBAZGu6HZHIiO0xSy0TfcSs8cEOL1-dBtaPzn4HrMVpUWouM7yE4iI-2PjADknyvXPBekOLFb7iC6x79MgCa1QUKMrIbCMpG42S0KiAx5R8M3xo2NVwbxgVAxhgVzJvw5dtZ9fZkQC88OEsBP65ciEJWEM2ZEZFAnl1-dZ2HNOKBj8Yoej6m4D_NvvDDUrcTuqlTB3KWjbjz5Y8Jx82tvAnv94DeLdefYLj0VB2ROTlpN4Cr-bFq_F18agaF6_OzGO3gvXqIZ_XuHh1j9_s1IO1L16lo1-L4jVKfWpcvJbv4fmZWb987NYaF696x2RgvpFls_rUuHh17r1qNVhfSK__AxevzpifPQvrdnes-sWru-6ZuVckULzWE8Gq-sWrs4FfUTbzYRe61bh4deb85jawfuJ0RY2LV_2WFivUQLkkoXVXv3i9BsqNGMVrlM97i1dd2d2YxWu_Rf04siPYyEUqXhk9lvFYzBvD69CLV8VizWRFOo--4K1indSv5ik3Mm4Vi5wEsmEsVuFQeDMmiWnvqnZmd4gXGHlZU5Ta12c9nyeFWEHCEHxIlMVkjVTEIphYx90lcHsV6zl8AGb9zPJLFGuSBNwgoZTOZvhpzvpk6z-2bQzEX4TWrb03KjU0WS-gowcnN2ZCEqxCKabpKMeyDmfnXgHWpfum-6pqSM2MH4D1jMWTZTLBuLegDqFDyumEI8gYw5ecYDPrx-EaWfpBTqLYJIbzRXnqxMMKzEDuI7mgAFbKYJAx2PSOXK4fUWgGUm6TIoAVzr38mDIbpCK20fvMHQhzVMCo-sIwr76gtfiis7d0yUl7dD8fSUvnCgFjSvNubOWtYegnu9-kkdcqQgNuvNag8A0ordLt-QDcAJQRS2sILraiFRXg1R03Sy39xih49ZDS6av5BWIu-YTTNYZX7--dAAYePIVogQLT9LMdAIO3zsxhoRpgmt39O4BpUnQ9UAfGHhVZgWDSu6wDGCT1bpmNMPkW3Q7LuXTbwwCMg7vChfTtapwyQsMzd0AVh_HOJBhLq49MU0h86GyWd7JF-CpU8HBa0sJT1qcDHqxX3g_yQBi3XlYwxgdtTAmcTNM4tfsMbgxoBrQx4FF1o-9S8BpxIYnhzWh5xFu-aqlYS6IHqpYeCK8xsHpTQ8WPFKXoQeQ-Zllm28JGsiPlkqfZ8HaKGEHAOAnpDLSAK0kLl2oBvwckDWeCAgy3QVIl3DuZwjNXvkXhz9LEniVThUwJ0nEFhonKCElQF5pEI6QR6owdAfHlV6Br2VrodAVM_d2j18iCuaxc-G59Ga__5etFPhEVHf1FPlz3KHi4XrMfSptmTtbgoYAH02Lx7z-VQ0QwUpWayUF7hjzPzOnKQxnDQ6-7haEmrhfOwi3ho_uqKCApQgG5BEI3Clzmdtwq0_gXFJqu9qUhA7KMlefmwGJQz7LJgXZERHWhklBudXps8O5iNBfCCKhIWTS45XTbORhG2IbUT1B8t1lBKCk0wtbM5jACajakPrMRXiUZGhOcHX6JxxMGTB9WHPaTIrIQ8Ctc4WLRjc5JlOsD8CYIrRap2VZFNumV-JNd3t5oAyfxjSZFihBDI7zOgwabOko-pnEGdxo9IH8i2fKi5f0KHqXMikZDwK9t_BCAF35wOwBv4GeJAcOYsrPRga4077Brpcg3BLwDpD1Tn37zzQDMCKGscrIjiTKGHd6--VLQFogHubddKDsEvImS1Sa426YxkxtJao0rT77I2bl8xH1aj_AAanFuKqHDZZHwIonNcGAkFc1hREgRhnznDlRn-asCnTtXGCIfk4oUSxgiYLxeJt08SRhCj1r0ZciKPDS9EEbAs2STMGtHTtHnqaSeygjoAck5QoBHv8WSnsg54rNUDOmJRjjQe6Nysj_HmIg_Ma-jjmaH99zwS68GJTmnd1ADxTpMmVTNSSrXNMyUQv0XJ9vVs4UqleIRJlkoJJ3POM6FfFGKSQktKhEpxZkor_609gFFuaIRllNCo1zs8u6pPHQxvKeu1LxXplywL6FlqefEDXy9OVcQwVs6FUQsbGeq0OVmK3i7trwIeFiumQYWthb-xAIp0UQKBG6YM8T3GSF8EfDBvwwMAsZzYmHeZsD7eVUtFU-6O-O5CvC-Xg8BcBHfetkDe__8McRPEY3EjKlNJ7oYRS7zXRCs_0yjFSeOIn6KCyIlK7qvEtETSppvxiKnCFfgwi2K7y7VJSubqhxbdwNfSdDNw7LZjH58kU9FrF3UiOxLEbo0LrCI0DA_dqWJj4kZC74jXekFQcAOp_8MOI--BRGwmwV9rnA5qpDvCHjzhv7ecsK4k9d50ZzCf2J4-I6Uo9xTsSho887zjWF4AybulDdPml85ZWlNfIgSEp8v_eN3QdOYx2saEYYZHsZj9zpIAWGJghd5OVdJzmLrYaOlHXcTkbvjSwVeLBmQDYCB2tTpq53YKa0VT3BFxe4XdXEWjvOXJR3PgV5PeeqhEH4PPAH31oy8RZ-YQV7It-iSW5E86lbsyUmNlJEksUNVCGkEUbJFBSEYIQ-CrkVBXMqqXdLre0siVyX3aYa4TikeC25E8dMlXRATPSw9WfhEKIQ3dc_s3l1RCClRaZ--3x6GWcY_XLNhgGWw64K6kEQaaf7SF91dQfcQtW3TeIiOz9s8YEjlRvhwn0-850iqbncrwBCLJaZEpQSFaRb_oUhmwPgX24Fv7nKsE5IjAVP5Isr6nEZ0IembuyZU2gwieViSuB_fpabhvUF8F-sFqQYQBRLFa0OMgD-5H8DdIOCTLtGRpo6fDKUcBrGE4WFmdgmSVJjvCwpSy3y8SJxCUMKliTooWMnA-4MmStHF5bt0PHRxvDFw01WXlU_CO_raJsDDGs80voPDZYXf5S1yMn-Glz2OPKTgieAkKs33ebUsFs4uOJ4pSZiEmOlRWw8H8SxxfHfwHZdqHlcvxRwrT_SIgge5Qj6s-BdLF5QY_yLvx1EpPHj00jpDs35qyPqpIeunhqz_w4YsJ3Po8ICGrMKO84IasvAnS7uyeR84HefLsFtm9GXD4DNuykt5cOxO5h6I3aIVLijJCWjRCh97dSBs6-snCvBj7bkp-EF7tRXQqzX_pv2Al1r2jbdXq_zttN5wu0b0h89tkfSds6rbqxU5frLpRejVKjc_6lb7Xi3t7MYHa9-r5WyePKT2vVrOhy1XJdCr1bbbqgR6tZLWnEugV-vO5zJq36vlrGnYt8a9Wsbw3yZ_L71a-ooPWn2_vVrlz7cYfzF7tZwRX62rfa9Wec6Zd1SY6vdqUQixtcEzGsbr1YKAJh-_uUd-AQeo_ogpNe7Vcsryyrh1vzfLvqtxr5Z2_LtXYN0D2k-L16tVnNcmoFdLv_GtPvF6tZ4uezOgZ8lNDD98r5ZWcUmneL1a8w40DOjVkqwDe7Xm9P_0R9qr5V93TXq1_OuuXa_W7Z3-V71aOWmTpwX0ahktxg6qdq-WPrPRF3F6tfRDTS-tfq-WSJHfV69WRd0Nhy96r5bLSWrTqyU5sRa9WvqBx-5KoFerQ3KHBHq1Wvz1iRr3ajnJ-WPBulfGzgR6tcbsaFX7Xi196ooTP_ZerbTMby9Cr5Y2d9zRqnu1Qv8F");
        // Gohan DBS
        registerPreset(7, "DMZF5:O1aeXRU5RV_k4QtLEIECkoRUFwQSVhKwVZn5s1BbFE8R-JSOLRiRIgGAwnie6_Foh5UTtEisiasgmKQRUBQGjEzw1L2lqWAUIRWai3HWrWHo3a_77v3ft_3vswjBOx_-YPDnJl3f_e--93ld--XXMvKtSJ2M_iXa1lW00ZWVrkTnb7oNfhQ5sTzd9zlf-NGf9G5hf-N53-TbUWK4dkS-L8E_s-yUGhW1xVCKPb3UcPFszX33zuNnh2nP1vkxF7c_C3xbLJb7M_-N16ySf_2QijVtvpJEnpMF5LGwCOVT_ahR0oNG167_iQ-u2lajv-NF72v2wk0HL4hofGG0PLXEygEqlHopS7lKPTDA11IaIIhVLn8dRSqyq5Eoec7HUPzlKYyQ2guGqNpom-81KmOt5BQuRSCU7nbP5VGKL22p4OHMUQcBkjveftD4b3U0JlLBUz6QW8uwkR6EUw26a7q0UboTh14-Xf-Bze5Zcg7CLP7uz8wHBspMCxfuqI1Pvvm6jzjLSP9jGefvmIC2glm6m8Jdu787AG0M_twNUkPMOwsuXGQHnIgje8N0rNG3G_aOVB3VqHvrGYIs7HXaYQZelUMYfDEirz41HvuMWFmGkYcfXc9Ss9-JY7S-wZMRiNWnhmBsbGtVQlJzzak8VhAulj4HKRrNrRF3SPnLUMH9L2uiqTnGtKpvmswSCD4EObZBbeKE4uDwYh3sqYjWjMRk86zFd68IF4sa8xIxIMQQzz0TZnrJyji_cm-Au3b8sYHAi8qczcy37Dv00EbEWbessdR-nTyTpT-euvH6FmIMZKuMKRXCwX6cWw--2N8hcGlO0hogRFRp6IbUCUVJjfdnc_ltwPXoSeewrD20p1PvUAwiwwYeS4ytJZcOwmNWEY1K114Lp-kF0vL4cMkPw0hxG7zQyxHFLF4atxP0LH_uKaVQKmZ8_0OAiUGqRWseKk1r_5ePLy1eekONKJrywFC6tbxD1xrlr5IUDredUoFqvpEOKDIi7Iq5WoryxA6u-UjIWQPRA-7KZZOUv31UlC9SDpbSje1ssYUWU2uLhjUu6B3b3jpO7QiNHNpSzS_R-vD6MNnKpujDzkz7PG-0wToLv304ZHtGHme3Wb4NfTIfuOQSIFHJQeEprU_YvaTQwEhj4obPHtvu1f0E_CfPWIoiHIaFFz-Pb3cgzQXGP9ESfqofIOmVuQxq3Hi8fKJpeP8pjmMm2YLxKXKqOXZypVvoAJqS3oTGmtYxeWZ-4kbXVH1BEovu67K7L3FhjQ94vh-RWlsaiC9CANPj65HDOkKEb-qa7qUnDJLA4HyaMbWALrh2FF6YXcbpbFCXBBrsJ8WRoC0DADuwmE8AqRfFMVdIxTKCCwVAEPPXAjFsEeICnFBFIMNrhfFoFSsH8Xwa3u9KYY9tM9Pv0mK8R5XqfjoE19cAsVQnaFOiuEX-XpTDFlN07HVefWmGPItz0sxcuuiGNGDhd0QRjkrM8WAMh2dvhizb0r5qBDSIat97Ln-7c9LOgCv47_nC7wodfcMNCSZGHoV2iej75JoSE2_27-NwQHv8A3QkBinalymaggNgdT_-GT3AKnOQExkY1alpBYxwfcF_42-8lWEqe49GGE2v7naJEWVRkDWojU1HAJ-Il48rUmOEgVdL1ohtEYOXpn4jeIYsrNJfpNVf35D3Le-_EYmQz34TVoxhTB-w4NhBn6j6Nyl8xt1opJrm_wmmuGROvmNfFW7Q6djdfCb1A2CHcCzsjbWg99It2jS4fymkPlNa0zgdn_riQm3UGR9mZNo_dR-oSmW99ev_Z9cDhCXa4_HP4koIJUPkcocqgxNi7fhgeZ5cxG4aasSBG6GHcWlPQHgNRo7w8hFa7SB11h0aMBbwb3wDBX8WOO_9EAY_BDgFg8bMJd9sh1haMZyEo1H1iBMG5EZANOq5EZZUAlmjAGTd9MqhKEZ3Ul0OJevwxS5sd2ixEIA816AlXvJLz-83iS0Yw0NzQSngBzM_XIO9l-uhLEmgkOC_54TBRWA0dll3tZ-kqQXG3hklvbiOaIjAx6-r34e7IEMLUryzFoHMw95jGOf3nWWDkb8JA9Ga1HaQT9q4DV_5CvEownBSeQh6XFjuUS9yQPQUqr3dDZPvMTAayHCBCL85w_fgHhZ_xpNgUgjVLpaVAPpSEjJ7ImzzUo1zgAmI7QYaCcYknxxOPoXvtod4oEYONvgqwyM2aCRCJWTOYJyFrlR6s1uTJ5ZtuCTMO9QwOiVudTQEMEqxW1R10Ad3WWG4MWsj7ai6e8fvTqMEtfKelo5aOnFPpHEgL_Rg2uCgUfv63C7cRJ97hqGeGgWFML_7L072JKSyrVlYWdGI6WT6CVKGeCR113uCG5MphdZ4fFJe_65Gqw7R7Lullixfy2kixymUY79z8PVWMPpJ5cZkWsv-3wWvsy2fn8M7mzSMFxQb-8ZfBmT3ICG-fumooakFcGX4ThJ0dLXIwIEGrjraOz9JkPDOwWXo4YZ84-ihs8FawINRJ9ctSpFhg_AxFW18VIOFQyMLBGqG8eJXUj1M7oeS6vLrN31ixpqoJ-8ZHdBKQPrunxDw3uiaIDpixcfRw1n6aTJA1r9jG5a62I9oS6oM6oCA_jddX9A4MoPfoTAa0QsATDq1J1NDtRGEMXNexvA2zf-DIFplenYk9JvITBGBYSkHL2Y9EuSrg0lfQzg9dys1hNbt6cLIQDe0LdfsLXT0KSHeKRvmAdo76laCQeXG6My56Y-48PDgIHwGHzZEtQAxM6YBGvF3SaayxMRfHEVd2q-YB-r-UyNed8xgCm9HM48hz3qskfdJPUJNz15ajFqoFjyUrzpSkOLIw39DQ3kAc05zAzYb6rC-AvzoHNYuT4TDjA00BShRfanVBPpJ_C6vCnBEV3juRlm4Bw5AyMpjK6ilhnvYlk6gwcNz1CnjE7BCpNxhTDDsBgXWVAKyQjHPt6kv77R0hpaeiEO4LwhA69zwNi_rHqCNLxkaFjKDY17sdq4TRGlS1sZyZRJSvYl53gzTlThox0PF28tKphYeCk1J79s4O3ctBbxaBnp2D0fOod4-BMUUnl9RIVAlTlbXazMMoAP_GpIGDDFiUt9G4D3i0kBMiXDZD_bAKYthRMvoWtD5QEaTbVFkLR41fZO5og_JyxBph-7D4E7COIo66dMEK1Zyd2BNuvPDbNY9hTpCnpxl-u7orpyG6PGYFX45oVl3oBmC1HDVCwRHBWZTjHGZF-r0PPrBJYVGu2DlGY-Ji2-NcNaqyIMmMd-3iAqYNUFa7lCcVS5GmHgDWtuC44T9oNizvN7ivgJ8OgZrUepqFgQdnhfiIMBvMG8csDD0-xLcpf2dyOEtzCs_Rc8uwDx5oiZRpZhwKN6rNJBKwiLDLz0W7cbzVkePR60duKZFoWLJV6mvQwooEKtXfDIk8IKUVIenb53nxELx8XDUCOpUnspXMrrpg_HRY-TOkErpa08p_CS201P5VbXt22pjlNrraO7QtJOWmXz7YY28jLX0jfiWYZ99A5arZW8B3uyTqiw3gUYeLbEy7wDahFsQnK1aC-ZcTOqQQYBqUC7No0Q8rimupu1MyzHeFtmT-bQOCzcoI0S0UM3nwnGiDa57jKA5fKXWRCPCVyCobbjAKz_1QBt3bQ6Zu02gHk0kSN7Qu73qPG5fPfiprswgaNxw0vROXlxdfewJ4zL8t5a8Xs5_HAttqUG-kld3KoEt_YaGsiRTpz--kDrT1gnAI-6riI_2tC9L6wALanFebhD--kcNDRFyygdeH-YoVw5FJfl8IjL8KairKffbww8ecVA85tj_xeDy42-f8sdBjfGhwOOPGjgycIj0_mkmITlixe5HFNuHO-AABiLAMSAulM7FMahZPhuFyeuzTPsY_ZowNAjBt5-ug1UwUrfuOoPg-gb_TyOauUhsAvNGtan4bK34bK34bK3fpe96c75y43VSPb_6bI3b8eMi7_sTeffmWi47G247G247G247L2Yy94rK_IMRpdd92Vvz7fXXfBlr1JwMZe9FQcLz3_Za_0P");
        // Raditz
        registerPreset(8, "DMZF5:DtWmlwFEUUnk3CFTBABARFuZWbXCJQ4sxsikOhoIpbLBAM4TIcJggzoyCWFS2qELmvcIqIyH0KBsjOQpBbuS9BFAo1hQpYFKh49PR73dPbMOV_6B-pTE3vfq_7Hd97_dUmalqiFgqXI3-JmqZVKqXF5VlG1d-akocsy1hYVIM85FqZld494i3ZRvIvf3hLdtHs56t7S7bep9ckb8lhS84Lowc8Ha-FhhG8QeR_DvmfoAFw2WF7KLCZ7MwB4LJJOQBcrnFlihepa_wIeKWGTvXeOJ4FxMuW8Eo3vAB4K-qep3jhK03aAV7pnxsDDDzkOkU-zGAJpuK1YoAZU2cFbKt0vyKAqTziVYBJymlCTxfJ7FILYYZIMMnNVgNMl-lLAab6rRYiTJZtHDhamx7TrVI4AYDRuBO5fbkh3aixs9M2tDBUslCupD-14Cbenk0tMBjbKLNyHPjvg5bVABicnevsztA0xBsm4eG2hIMnrEkGPDivGA_mAR1D7xjEFAIPDwrM3JpnIDCX9pdgYOgSDwx4VA706xJe-eF3AG9StVOw0eS0twAv8fNVgAceyHKMwoNPyRHPkfAq0DQhGf7O4EaAF3c3GxOR-jjXjhYWlBcdmeW48WNmUeBo5b71EXiEBIybEHKg6oyT4sFJ6D-8cyDAAwZxNgKPlIChGgiwPnmxVJMJn2XS5NIzOj5JLRg8ZvHPrKQWTEwYx80-fxMtjJIshFZUAgvZTyyXLMQN6UeBzZdo-hJg7epu2PrZ0_UosLl1UgICjw6q-p2rLkrlxXxSxFkE34jJ9YaEh-e1PKIBvLSu3QEPtpXn6P8c6sbJiOJFfNfmBsWsV9WPAa85pTKCh163i471qAuu5eWFu3BYpB0vrmghj1sgzNrNY9ZHqCn9K_rtLKsIQ2WF_zpRSE2xJVLJ9CHXDi-7MRMOsyfjBzCFDnSirUv6g6lQ09jD6G762tgohucdzgcLES0Eh2F54rbY2xUsFKZ2AAuN4gvgMEdnnEQLzSQL21IeBQtT550GCzfWrwEL2-kDyZOVFIYAr6d8QoBr_D0PgMkSAjeXgLc0vwTsxvIk3AP5U98I1GrvwnDaHqmBBVxyIg3Cj0Mm7knKQQstJAu7KGmQrS9efA4slGCk0QMCf-pb19nAJ9gFHffP-kkInCIB79jwPQAXXHwZgNfSXCLAYFN0NjrQYYdxXFJWCJwqARdveRuA83v2BOCx0c0ADFlBUpL0CwAu2lSFArMAC9UeSpOAN7JmtRFq2wpPpl8iwJvSM2Jbu76uqSWleCg9yAP95i6LbSUsuWwDac52r7PgQcKQ9OhQcQlYuLboU7SQEZR3W4EirMwQHNzPO04j3Mc6Fq7jFkxIQ-BnJWAsL4tVnsU8ajOP2hHsE3Z0fP4wsIC55LjFNG1JUZIWhxZaShbQA4Jz2GTA_OYzTDQeGMF3DjMucGKolWThm9YbpMz-FTkRl4jXCUMD8IHnXoQ8uY9zWovU1cMfCvXV2DLN2jR4uZZJQgUW3sNOqU8EhvEz2_QTcKq042XQmiy2CSt8rkxLwPtEbmjRhdTHxAJ-y3FZwoQ_WjkOLUyTLCxlDY31YkZLtj6RUhfBm1LLiC2ZCJ--QtMD8sQnvtZ0VuDkLWQFGywcd2LeQMSbIeHt27oO8Ga-0gfwmg66BXiwRIiUjYmMCHyaC5M8QeCZEvDRLzsFAWOe2Ni3CfCR7Y9BpTAPmP6OZ0nAh1uNB-AcGnrRAwe_uAz8ydmI73h1cU0AJodB4NlBBTL5TG8Ark4HR86fvECEZsXqVRj0QnOCdsx7CncFHtxm_O6PuuxbDrvlOKZPfHODKq9VuYVgIR8ogmXF_aJosGFfYOh5_wvMGRr2R0qazWN8x3zeEUp6fhCwS8d_AtwFh2kO7HfBe1zhz6ihAgl409r2sdeJ8Gv0nuf1FLpE8PAzQo_ys2JBUPBu0sAQvA6j9orBE_YXYV3a-H1gX8RbGNT-U95fAHiz6Z2G0zDBQz72y0EghEUSXnRzR6k589BDoIWI-43Ij_hijkcexpKHUoRz23ucmwAGkKgts2TnVSlSwBA5efrkQ4elXDhHP0w4Epna8UYPaeuLln8bO0Oz0d7Wp9XOA4pgg2h0w9i7gDyTxlXoSIjszbwhtBAnO4cPoumUu4mFFXhX5ZdgNn05Jp-EtDhpx3gqgX35JARdWhyxgAFjZvJ4jldWixuSpZWpl9IuNSU1lbi8s-fyCrFtyfjpQgMws2RqGzADMwUpDpJh0ojILnB-v9P2BVXdWup6AjyeJcsJ6gbhcqEfb3MlNmuEu-x-CRiYV5iL2MWBkTIJJVyJCTC-cdw6E-dLzKYdkIDZZYVf4jPLs_LDVmgbU2gdkhypzUY6vIA4LsbJMb-r0RYtHAyabvF2IEz8_DrE2DnMLeCSYy6jcRBLXjskWUBHWua-6wOkjgXMQfCwD_vjkHANPxxESUvumYJYz_YKPHajLspTIvCRoI0yLvGnW5YeJk9vpGmx_L6W8E7v2Ah4eKOzwv9Cctn62badpWkZPhzjyGMSHqciXs4X6N2YHzzLZjllm0dB83CQBEgO8G6kHQ-aqnj6FtOICzcc5mPm0ZiNnpLwoDOIyYpvbJMPwPhGjMdpgR5CI7XSmW_mjRk1wlNHuyt1VKmjSh1V6qhSR5U6qtRRpY4qdVSpo0odVeqoUkeVOqrUUaWOKnVUqaNKHVXq6EOpjvZQ6qhSR5U6qtRRpY4qdVSpo0odVeqoUkeVOqrUUaWOKnVUqaMPojrat34SzFrnoW6t3eyeoveGu7QdzWetLr3KKKWFKi1UaaFKC33QtdC47mlKDFViqBJDlRiqxFAlhioxVImhSgxVYqgSQ5UYqsRQJYYqMVT9VFT9VFTJo0oeVfLowyePav8B");
		// Patreon (__Travis__)
		registerPreset(9, "DMZF5:DtWmmQVNUVfj1v2AaCgKBADA5rUFlmBmQL0v1eF0IChRUYl0BhIMM2OggyiO89AsEyY4oUGpSdYVM0OIqgoESCMNMNKLKKElEIYgKFCWWMS4lkQXP7nnPuve_MdEjVDD9MNVXUdPXr-517z_qd826OZeVYEbeR-J9jWVaTelZWkZdYu_aE-DDDcx69uF98KPWjw9rJR4Gz6Zk_ph4FzrzS8bYVKRaLJoi_JeJvliVXO2W33w6rP17zW1g99Lr35Oqqzm5bvnpieHXijlZP1bzaT9xgl0uYRHTBWgmTEPtDmEkM5rQ_QcK4zUd3MmFm-InTbW6Bs-z7dBzAiG8QZjI7C4hUMGITeDrfKZ9bADDnd56TMFU7h72KMFMYzPxr3oVDHV30h7BKEmOXr4dN7GlagquL2eozA86mUUlsPGxLn8Xp-fptCHMPgymRq8VZ7GM75CLXWv8AyK6wy3HRvWzR3h4fgmyxPbko9pdTnUHSxJOf46ISpvwRTzwZlpRYDsoPYlpHU8OLCNdzc5ZNhzMd6_1n2F7LHXNx0X1M0oYOJ2FRu9OPwqKFK45zfU5Ti4Sfj0z5eT1YvX78aLk6ZTlQ7J2A5yeHTHsd8IZctQ7whOkAL9KN6QhjwkuAjgRMYfsNADPdskAB5R_8BGD-2akpwnQ3YUq96MDWORIv2XPpQMCrkN4n8B7PLZX23jV9XBdwYqGS1KMg6ra9X0pIkjF3t5-yECX0ZBt97uwYMKYIPzOuxUaVpRa8dydsdNv8bITJC8Mksyd8CTAQSQYMKlLAnPv3RIBRXhLJN81QmDJDMzAD-q7h3z-W5xVBVoEhH1td2UbiRe-6Yz7iLbxs5iCYZDe5Y8MPHX26x5kZRlwfg2N2vfoHEi855ndnGN6GkZ-A9id1PQXAmG-C5KKcowj8BAMuvrE5AA-VTiGcFralgAVelHKTSgva7Rax87aftxLOC5lIwYgk9ZBMM2JbGB9Gwo0sZjCoEs9R3gZBIFZP_O4zsPpHR3Nx9RLmUtvP3y1XVwq7MCUp358J0RBUdYh9hDBL2Sa2ST2a6Zo24VzImsySfWQZW71l8lhY3VqeRWsiSGD-Chy9enka2dqdIXxFgkRLBQmtvhUsGNr-7R9s5yTbeUtGWSgGVrLVA07sgtWdn3LCslXGqPpi_GhcXc52Tsp3i28ZHla-u7TkJoDZ-fwHsAltw1VsE5g5DPWpTcx--llYrcpKZDVb3UqGvEr2hunc5r_uy514DVtNseCo3EkpOAFhLPRIQavrdGStghEfZqUyusgpt6ZySjYE29yC2WEBu7NfaAECBkuvNoKN-A6d8r8G7e5GMhMJnIfLG8uNkusH0bGdXQDERGtY3oowYFSxl7y2mwdp5ps-1wDwI6sGhbO9ljCuyyzQyfELRayeWFlMAh7PS_aVH4SEi5T2-0s-IvBAFwZeckTBbMSzFV5DK2tykdWgY578JzQ9nIqoEIMFyChbKh8tA0fwB9FBouogpHu38UcXpOB4R0XC9rEcgzzACFDicsnWSKNq4gr7WbQoGFUfINULmF7fr4AimvXLmzlPOcBgkO55qRISrn6KuVBKCRzl-NZhdiji2LjI3I2CQcZm5F_riGGUyH1W_fgDpTOnTU2R-FEZEp8h8RkSnyHxGRKfIfEZEp8h8RkSnyHxGRL_7SLxhUTim0m7xFr9vRsQKyydXrzZQ4elpFgLmbOK_MqlA1uH7UKPgpTJGL_PBr-KNSzeA0doESwD4IYYu7FGMloEDxCZHvDqTVnI6rZi_IRXH2qo5ygyd_amwYBX_683Agx8mBFUaphJDOaqj_cCDJYbL15_bCXANJ_6U4BpilmxKj7iesb4CaZF940AQyQ23vrLniaMYN37j-aGWRgJD6q-OtOVO9AUJqGRzNrCk3K-WgoBgzB-rEHFg6C_X0EuCFDZgtX1tizWHhAebss4OKU6PK9pD9JAFE0fxIQo1jBUMwxRBPfDN8-jYeQjZRjQKDf0vQyv8T0Xw-1QvIXM0gIv57nnAQ80IAjfjgPtuMVLGF4T6SbCw38x6QbAy5KsM-WIUBn95A6ZpJUiRVDZM5dAphMFm7UiBIybMHygFfZteHBhemyNa9BATNEc1a4QMESDAMYO1ojJ7Gfj0rmivYd-T0qIKZvZmJ0cdBizrExjEiIbgFQ7yN0MCVnAkvxUNgFg69xu2Pr7xzsyWmxNTxf1SCiM8CKdqDJF35jOdT_Dw_N6VBu8eMFtowAPtiWKxNcHR6pkxBikNSOdzagNiPeQqUzgodb9yrcLO4BqVXjhLgKytDlSKFUSqG38DlS8N-TqIq8STeW5_yLqg49EJMsPoias_2wxHGaPLD9CFDGyZP_zd7OOEg8TTfTaFLaiu-JQGUiosiJwGPKTFGkBCTvyh4AEnFqYvKs7k_Bq3tUgAftlz_3sxRdAwnb5QTVfAvhFmU8EcJtLK9jAINKDAb8iCbfIbuQnbiHmz-gWSK2a16SSGkjAR8aESLXvqoslCbuQ2ukSeh4tjRow8md022Y_3EAaDXgeA37tpT8BMFJvz90kfUkAg0xT2ajAgA5jEux8Brz3lZ-HR2PurOTLAAxeIVwSRxBBtHJrSwlMBjbbhwIGvIWKleqAFshFAnhrr96Mcm0Gomk2Ur3SaQDbT11KyLn8GKY5P_EpGQ8cxpyVCIaFEnqn8zvquuIRmr2Q32m2SzqOYuAGKWqJwDczYAwvjyLPi6mhDmrUr8I64SfnlBWDBPQl3ScmRYlDCX2YBNSAoRxiBqQ3nWFwnmIoh4QbOTHSj0l4q_9LzLM_wZyIj4TWkXUG0f19fwh-UoNy-pupq1CTwuhGLJlOLvVdigw_jJUyOg8yjPZsPelTMxfa8XooTR5twnNPNOgDeE_zgpZcLXUsJOCqIEEO4_6m4kE2jiEJT1JBo1qs5xTzZOoSeI_ByEaHjB7FqikM9xOd-PpLrqCSt-EVRCzM_n8Rw9u3bTPgLR5zF5vqwCORSNWwDhOBTnOpppnNZQj46O-HpQNGP_Gxbgvgw9uvhUghDRgDnyUM-FC_OWwgrDRwQE661BzP3PHGvdcBsGqw1BCnWoDgDNEYKKBGKUCMYkXxahA9Nd-ptmNVU5Qq8OA-5XdNdWlVQF1OTTOgapHXr9FqkFAGKYK8oiYrxojsGxl6xWWBVYaG_YmQJj6mdqz4jhHSK9MBJyT9F8AjkEwrYF0Fq6lCc1Q1VCLgrZtuDbcT7s9kn5eqKfKRwMPfGDVKe8WqdMb7XBpG4MFsXRnP2F8VVemYHnqtTlf-8x5ZBXgw61JpWOBhPtbhYCSENQwv-fJQVpyV6cHQhsV1IdIWX6vw0oyiMFF79KLIsBRkiJLS6IKDh5gvnJA_Fjkyl2aQejhFWx_dqSlwrZMQt95u6lP0i4wyKnW9Wk5jo7xqMymlCkU7YTAi8DZgZ6pfPCDXMocTWWx_eAYj1yreAzXZJFSQ70IM3FZ4agI1OD8vP58mUE3CRUi_Qlq3cACIAQYhQuEL-arHJITUrhnvsfalizF6w-POIdc4JtVgtBLRd-RbOsNHjM71TQYMedZgQdQmUAoWuR0aYAGM3wQ08DfymJpxETC1JqpljzemYMPC58cek1EnXCOXCBy2G0GCXp45-o3ogXRcFnsBg9-r5odysask4KPAwVduRoBbB5kEVKRH7zSN-gR5QuBh1dXkx2i6D6VLQOuqcR6q0KlwDm9UvTkxgA-n2yhlDs1lyT0c5d6YlM3wO8Lwjr-2hb11ViPh9-WA3-TG8OOQIt9meCrxqHA-JTthdfAin3zKpzfTASYB4QOq9ljvpONQyn330lCc-hnSMWk0tNF3GR7UAdNZ8RvfUXQXvzHtcdxID6FZaNaogsyNhsyNhsyNhsyNhm_ljQa7bm402FfqRoNdxzca7Lq50WDX6kaDXTc3Guxa3Wiwa3Wjwa7VjQa7Vjca7FrdaLDr5kaDXasbDXatbjTYdXOjwf6fbzQMemPnN5e70eA2y7t0uRsNyUtth1-RGw3O1112XtkbDc7AIwMyNxr-L280WP8B");
        // Kefla?
        registerPreset(10, "DMZF5:O1aeZAW1RH_9uBwQQQFA8Qo1xqMHMuycgX5vpktjogFJaxHpDCQhYVNFkEWyMwQDgVUUqjIDcsRIIKggpyBIOw3syCwHBEk4IUQoNBQCaWmRGNpkp7X3W_ezM5OffyRCqksVRRfMfP6916_Pn7dPVmxWFYsTb8J_mbFYrF6dWNphbE6rXPEn1qx9FIj3qXJGvhRaNhXpxXBj_GGfune3u4jM_7FwRnuIzOZrTd3H5nayA-_cB9Z8Xiz-91HVnL4423cR5b915XrMmJpxYAyAv4tgX8zYyFwRs5tAs5Jn3kfwp0dPRfhDu3cLODK8_r9QMAl_z78cYSjVVYif8BdCDe9dDjBjawWDg515lohopw_fAVR3nzjVjxL4z1Thaj4Y4_MJlFFEaKcWzb8CkWdfuUjFHVgx6_Fhu1Vqz5AmRsyynCflSdaCOGJvf13kfBRQeF9xB9Uy4psXaBou688gSh7yuoJlETttmeFcH1X9y2ojbU_3CCEl3s7LybhaWE637nZRG3MevhhFI6iYOfrW30IP0pK4-uKihCl6R3vIcq-3Mn-K07AdRDcL6Ku-C8VnyLKlknfoqImdjjvR0m2SnyCKM72fkK49sLXlSR8DAvHTWdMWCj2qreY20NsyG723dKQC9LeKR2OuItK7kVcVFSh2WvcsLsFro2XXmhpWV8tErhO9ytPEO64qEMtXKMhyoB5qxFl6bFZiLKsTQOBsk-i7G9Qgqebt_pmtIevLrYVcElPh09FwZUIHwS4iz0uBZS5ceNr6CaLejYVcK6NIdxUujI7PmcVwoGeCW58hG1r19JHIcoc4XqAYnfeJFC0so9_irYNF4TC7xFGDlfm-WCpFA6hZpAbarKCKKDq7bEYvp_Wrlpz9b3WPrXXOqT2WsfUXsuJciWMHqCxbjetEBpzowdq7JnmTwmNJchfTKezMD-4l91vvoGu9OLu7yEcmCjBdYoygxkiCBQabD9G4rkutyNckQgLEJxJpml3fHsgwu3Pu4A3JY0cQhbB5VYL51NCXmq6ui-117rJ18A8ClzzqB9y2I96TUMjTAglwxm7334a40YyFkMjfEDEVTgjHh-MEE5NKHN9cUM7IIKO9BPQ_rSie8KUfEHEIog0380q9uuWlgLcShHzIW4c3fJngnuZ4NLDZJL7GDYHJc9OKHqbTtbicSh8B-7Ui7QOBGFCmRdlHif-0B819nNrMQrv3HisX2NuXkaUXSKHQhgHEyLh8_0aw_QAxz5Z0EpsyI1oYbiUqQ1tk1ALbKCR2DlsYHKnvmiWZLEmP7LiR35_Ec2y5fRleHcQJ2knCyKiU-LTs9kCRTsnWAegPLu8F0anW8XBQZnPYBC29Nq9dwSSY9rC6m3e0Nd-vgD3-fzlCnp_Eb2fEXZ2PAUsnJ91Qj0y6HzO0WOBgIyKArrinXSxX-eQy1BfK8qboYUNXbI2DBcZAuA6Q8sRNyb9a2mUkZDpGtqc9x4NZC7ifmby9QN34IYfFXwAExYJX1atNoAUxdZORJn7vh2JN9L3lt8KJeTnCQsEq64jQhZYNaiaZK6IuG69H5quoW8XGwaZc5eeQfcvm5rrz0EOJCySuVLKhB-T4EctCDZ93GCTGZHPbQ7kDhOu-Kzvv4Kwjwj1gA-R3VnxoUjTLDvn2eUC3z13lPIH3JVAGKKIRkXTLzsizIv4yLQZhhgpwGDcA9W9f6Y1wgzInUypNi0KLue2HyPcOXMEnuro08cRjoKMmSRqygkd4Ip_1MjPUpwps4oJLj0Kbom4_UKDAoaqxPWCLQMc3b4SupmlxGmV5awfdJXgMhRjSx8l8Hp3yunUCa7yQfcqa4Xs4iVSrf6SwARwtGKVMuM9gCLBewjqUJSXx8gGqQQZb5ZT_GZePN7Kzx04mEQdjhK1jvk70VKLhVu6zJCxyigJzwtKDh5MvmUkKcCYbMYeGeTkaXGMtBLo3AAnWUDsWNStLsYYYLi5TsARawY44rMmZypTHyfOAnB7MPB7zNqtYAjuuAr3ZKx2_sTSCWPHuKXpYC5Nwy725RaluBGK8oZOKdPkzGdW5DE-hjlfZVgcdcqqRdEmioZVi6KELFeqFEUKw77xiiLA_eaBmYG6RXIFRCk041xvVzSZ_yfcAFW2IhkFy6TIumXbpj4IhzoEuK8FAQK48e1fV7sJgHJcMFdQJiT4QJWS8f9SSNhs21ULCW2kSERAbohqeIWExhTKgVx-PYUEt3KMZJVCgmmWYodcSHiJIXuNdmMVEnWjCokCzrVVCgk949QefyGhQ7UWWkjYC4Y8ptb3WMaFKZnaDV5ISVADy-R63mTioGRfLi0SnOy1b9o0CNQYmTd0jeEVulxjuIwptMaQgYt_hFdl_2HSTzwyddJPYd9ji9wmC8nAHvsnp7P4keXmr1Qo-1YMlQZbC28Y4Favb4jeivWC6q3M3ZkmKD1ZhcSnQo6nC74N0YLbDg5WSYA_7O5JeAnEwM2kPC6VfhaVMnBcyKhRx6QFYeQYOV0oOWZec93kmALddZJjZqv_A-Q4K2QXqC2wIMnh0GABU1Y12MAMJcdh8VihrYdTe60ytdeORCVMjnasGMUnSNOeOvUp2MmxeJXFdqS44H-VBFevhD-mpquTqb32bmqvnVFf8xH0AiboDf2uyg5ixvvfWR_PTM0gtS88QvbI1A4TrKaulBnvh7WNxcREXT3Sv5rvsOpqk_oBSufb9qhzUUAMu7_XtEIxstCHsxz6bFggkcn5DZ-FAiCLgU3Q6bw2hXZl72WsErwx0OiAmNmCmsChTiD59lRiM_n2ukeypOHVPB6oqhJqQytn8VqlslRhMSViNZwFaRFkVGrsWPaGjDJa9MvAImywAjaOOyBEUs623DkhLSoJKF-WIYxkL0Hlq6OyMf5FkgtQ_QdnOiWYKWwPvJIWPRlAkhXInedewEXURlL1OVZdVGok0jC9Gsy9jfyGlCMS6aOG-mN1Ina5wp-JtJ2zM6sMk1Bw3eL9KHjvax-j4NrUx5MDPtli4P9RWrVK1YXyMl_NF_J4tGW47QiUh9uCaPTPo4PE_vid8HEQyquDKcngppeR3-Fv_0B5tcSAVraFgeFQ7WDxLiyuLlW3qzoTuhkvZi22VJQuBvdrnL5j3w5QGPCKQKnH5se9Z562mfGClutRzDhqPdo0vLJsj1K39984UVaQR9Zh6J-LIgvkYbUlx7qgUaraLGrbqu4hi0fSaLxn0yzskXZc1BM3SmJMbmwoE0PJbnQs_izurFoVLUfPDdSdrIGNl4agA07nGhtjMWhAehc1fS1bmqasS0mMkzniywDTZjF0QyDmsmjvghjp2bLeZEVSz8AL8vokZzvKwzpSpcbl2xojNabegyo4N6BIZsPaVvRAZUq5rXOeEByX3bnN7YyAIaZ1Dsh7S2R0kEfx1cjP5IET5W-TvzMw7c84tcvSO4Rd5wUQpE3tREc28tPY1NmmvH4ivewxPhvSR6AsZsFUkIO7ItMxEtKHSKOmW0-hDUgSxE0rmyK25Zw_fIUQugQQSAOKciQnJ715ccCRRbQccBK4OmTqFkB4B789MDSmEvpVilz0CLQOxoqCK7v-BO0kRDnd1QBToHAUSnhKUnxIOJz6gQbXKN7XH7Lsr55usBinnXAZJXl5kV-ZC_pHAE5b0ZyHOmCIGCGp8oDjq90IEEwkxXJ7P4EynQVT295w5MAEtyUFK9_pyEaeElDnB85LPSWFWD9Eccp-WnAT2BYlVYWlydEdiyGVGJoMd1yY2pRULTeFBsp0jmn8_Uu57GVIJcmoPgHjvJLOZPXOm2DH8zierI7pWwc1QiwOrJaBRlb5pAnPhbzWbNqSarC9eIqJCVgV3ZTSpJaNAI7GzUXaVXfO2PyBixorlwVW9_hgH67OFlWegi1zofcJSlpZYOfy46Pi-x_0K5-GFyCG-Itle3e4PLAJORSU6pObmPy7V3G1N7ZfEVjdREQ0yRCVq9Mb_aZr0IhXBlazL2iSFTC5oEk46JGdVulSrZJigv2RdL-zabGZg7BX0eRnAxFg4HGcRSSNCx0DY0LK0JbdN3tGoEXBXkweajhdxQ8ID7Jjjl1LkNcbJ5KWRp-zWY7X8shQPkMIawrURxjiFQobkV5Opa73lZSXTTl86PU-uYZDr9ayHjoUOIiM6_KjgCn8PcUp_NTOI47xd0XdoiQ95Vu2w2rCAHnE9RV_4nrNaUqlUlg9UBkwbilGhnMaCnL_EkgXfZSo1iJHqqM5RAGVLvNBcTqlN6e3YPZAjyyNyK_6Md3RQIIk3RhcuBl6d-GXgHCs2xT1wwIlLyY8an_Mrz-bilBDo6zq8TtZT3HMsjTpWbJfwZFZpms5hJP6k2KojlQCvOxnsP7OvLU1UD__iycR74uoo3IjfNmnrZMBbRFD8Cq2qh-UcmYzucZWJmySTshWSZBrSRKnHxDXqvBZTX5cc5C-cVA2ejogD6ddQKjqiSIHxND_mJqkO_Q_6m2eqW52mj44t2Z4WjM8rRme1gxPa4anNcPTmuFpzfC0ZnhaMzytGZ7eIMPT2L8B");
    }

	private static byte[] compressOptimized(byte[] data) throws Exception {
		ByteArrayOutputStream byteOut = new ByteArrayOutputStream();
		Deflater deflater = new Deflater(Deflater.BEST_COMPRESSION, true);
		try (DeflaterOutputStream defOut = new DeflaterOutputStream(byteOut, deflater)) {
			defOut.write(data);
		}
		deflater.end();
		return byteOut.toByteArray();
	}

	private static byte[] decompressOptimized(byte[] data) throws Exception {
		ByteArrayInputStream byteIn = new ByteArrayInputStream(data);
		Inflater inflater = new Inflater(true);
		ByteArrayOutputStream byteOut = new ByteArrayOutputStream();
		try (InflaterInputStream infIn = new InflaterInputStream(byteIn, inflater)) {
			byte[] buffer = new byte[1024];
			int len;
			while ((len = infIn.read(buffer)) != -1) {
				byteOut.write(buffer, 0, len);
			}
		}
		inflater.end();
		return byteOut.toByteArray();
	}

	private static String encodeBigInt(byte[] bytes, String alphabet) {
		if (bytes == null || bytes.length == 0) return "";
		BigInteger value = new BigInteger(1, bytes);
		if (value.equals(BigInteger.ZERO)) return String.valueOf(alphabet.charAt(0));

		StringBuilder result = new StringBuilder();
		BigInteger base = BigInteger.valueOf(alphabet.length());

		while (value.compareTo(BigInteger.ZERO) > 0) {
			BigInteger[] divmod = value.divideAndRemainder(base);
			result.append(alphabet.charAt(divmod[1].intValue()));
			value = divmod[0];
		}

		return result.reverse().toString();
	}

	private static byte[] decodeBigInt(String encoded, String alphabet) {
		if (encoded == null || encoded.isEmpty()) return new byte[0];
		BigInteger value = BigInteger.ZERO;
		BigInteger base = BigInteger.valueOf(alphabet.length());

		for (int i = 0; i < encoded.length(); i++) {
			char c = encoded.charAt(i);
			int digit = alphabet.indexOf(c);
			if (digit < 0) throw new IllegalArgumentException("Invalid character in string: " + c);
			value = value.multiply(base).add(BigInteger.valueOf(digit));
		}

		byte[] bytes = value.toByteArray();
		if (bytes.length > 1 && bytes[0] == 0) {
			byte[] result = new byte[bytes.length - 1];
			System.arraycopy(bytes, 1, result, 0, result.length);
			return result;
		}
		return bytes;
	}

	public static String toCode(CustomHair hair) {
		if (hair == null) return "";
		try {
			CompoundTag tag = hair.save();
			ByteArrayOutputStream nbtOut = new ByteArrayOutputStream();
			DataOutputStream dataOut = new DataOutputStream(nbtOut);
			NbtIo.write(tag, dataOut);
			dataOut.close();
			byte[] nbtBytes = nbtOut.toByteArray();

			byte[] compressed = compressOptimized(nbtOut.toByteArray());

			return CODE_PREFIX + encodeBigInt(compressed, BASE62_ALPHABET);
		} catch (Exception e) {
			LogUtil.error(Env.CLIENT, "Failed to serialize CustomHair to code", e);
			return "";
		}
	}

	public static CustomHair fromCode(String code) {
		if (code == null || code.isEmpty()) return null;

		if (isFullSetCode(code)) {
			CustomHair[] set = fromFullSetCode(code);
			return (set != null && set.length > 0) ? set[0] : null;
		}

		try {
			byte[] bytes;

			if (code.startsWith(CODE_PREFIX)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX.length()), BASE62_ALPHABET);
			} else if (code.startsWith(CODE_PREFIX_V5)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_V5.length()), BASE64_URL_ALPHABET);
			} else if (code.startsWith(CODE_PREFIX_V4)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_V4.length()), BASE64_URL_ALPHABET);
			} else {
				return null;
			}

			byte[] decompressed = decompressOptimized(bytes);
			ByteArrayInputStream byteIn = new ByteArrayInputStream(decompressed);
			DataInputStream dataIn = new DataInputStream(byteIn);
			CompoundTag tag = NbtIo.read(dataIn);

			if (tag.contains("Base") && (tag.contains("SSJ") || tag.contains("SSJ2") || tag.contains("SSJ3"))) {
				CustomHair base = new CustomHair();
				if (tag.contains("Base")) base.load(tag.getCompound("Base"));
				return base;
			}

			CustomHair hair = new CustomHair();
			hair.load(tag);
			return hair;
		} catch (Exception e) {
			LogUtil.error(Env.CLIENT, "Failed to deserialize CustomHair from code", e);
			return null;
		}
	}

	public static String toFullSetCode(CustomHair base, CustomHair ssj, CustomHair ssj2, CustomHair ssj3) {
		if (base == null) base = new CustomHair();
		if (ssj == null) ssj = base.copy();
		if (ssj2 == null) ssj2 = ssj.copy();
		if (ssj3 == null) ssj3 = base.copy();

		try {
			CompoundTag fullSetTag = new CompoundTag();
			fullSetTag.put("B", base.save());
			fullSetTag.put("S", ssj.save());
			fullSetTag.put("S2", ssj2.save());
			fullSetTag.put("T", ssj3.save());

			ByteArrayOutputStream nbtOut = new ByteArrayOutputStream();
			DataOutputStream dataOut = new DataOutputStream(nbtOut);
			NbtIo.write(fullSetTag, dataOut);
			dataOut.close();

			byte[] compressed = compressOptimized(nbtOut.toByteArray());

			return CODE_PREFIX_FULL + encodeBigInt(compressed, BASE62_ALPHABET);
		} catch (Exception e) {
			LogUtil.error(Env.CLIENT, "Failed to serialize CustomHair full set to code", e);
			return "";
		}
	}

	public static CustomHair[] fromFullSetCode(String code) {
		if (code == null) return null;

		if (!isFullSetCode(code)) return null;

		try {
			byte[] bytes;

			if (code.startsWith(CODE_PREFIX_FULL)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_FULL.length()), BASE62_ALPHABET);
			} else if (code.startsWith(CODE_PREFIX_FULL_V5)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_FULL_V5.length()), BASE64_URL_ALPHABET);
			} else if (code.startsWith(CODE_PREFIX_FULL_V4)) {
				bytes = decodeBigInt(code.substring(CODE_PREFIX_FULL_V4.length()), BASE64_URL_ALPHABET);
			} else {
				return null;
			}

			byte[] decompressed = decompressOptimized(bytes);
			ByteArrayInputStream byteIn = new ByteArrayInputStream(decompressed);
			DataInputStream dataIn = new DataInputStream(byteIn);
			CompoundTag fullSetTag = NbtIo.read(dataIn);

			CustomHair base = null, ssj = null, ssj2 = null, ssj3 = null;

			if (fullSetTag.contains("B") || fullSetTag.contains("Base")) {
				base = new CustomHair();
				base.load(fullSetTag.contains("B") ? fullSetTag.getCompound("B") : fullSetTag.getCompound("Base"));
			}
			if (fullSetTag.contains("S") || fullSetTag.contains("SSJ")) {
				ssj = new CustomHair();
				ssj.load(fullSetTag.contains("S") ? fullSetTag.getCompound("S") : fullSetTag.getCompound("SSJ"));
			}
			if (fullSetTag.contains("S2") || fullSetTag.contains("SSJ2")) {
				ssj2 = new CustomHair();
				ssj2.load(fullSetTag.contains("S2") ? fullSetTag.getCompound("S2") : fullSetTag.getCompound("SSJ2"));
			}
			if (fullSetTag.contains("T") || fullSetTag.contains("SSJ3")) {
				ssj3 = new CustomHair();
				ssj3.load(fullSetTag.contains("T") ? fullSetTag.getCompound("T") : fullSetTag.getCompound("SSJ3"));
			}

			if (ssj2 == null && ssj != null) ssj2 = ssj.copy();

			if (base == null) base = new CustomHair();
			if (ssj == null) ssj = base.copy();
			if (ssj2 == null) ssj2 = base.copy();
			if (ssj3 == null) ssj3 = base.copy();

			return new CustomHair[]{base, ssj, ssj2, ssj3};

		} catch (Exception e) {
			LogUtil.error(Env.CLIENT, "Failed to deserialize full set code, trying fallback format", e);
			return fromFullSetCodeFallback(code);
		}
	}

	private static CustomHair[] fromFullSetCodeFallback(String code) {
		if (code == null || !code.startsWith(CODE_PREFIX_FULL_V4)) return null;

		String rawData = code.substring(CODE_PREFIX_FULL_V4.length());
		String[] parts = rawData.split(FULL_SET_SEPARATOR);

		if (parts.length < 3) return null;

		CustomHair base = fromCode(parts[0]);
		CustomHair ssj = fromCode(parts[1]);
		CustomHair ssj3 = fromCode(parts[2]);

		CustomHair ssj2 = ssj != null ? ssj.copy() : new CustomHair();

		if (base == null || ssj == null || ssj3 == null) return null;

		return new CustomHair[]{base, ssj, ssj2, ssj3};
	}

	public static boolean isFullSetCode(String code) {
		return code != null && (code.startsWith(CODE_PREFIX_FULL) || code.startsWith(CODE_PREFIX_FULL_V5) || code.startsWith(CODE_PREFIX_FULL_V4));
	}

	public static boolean canUseHair(Character character) {
		if (character == null) return false;
		String race = character.getRace().toLowerCase();
		String gender = character.getGender().toLowerCase();

		for (String defaultRace : DEFAULT_HAIR_RACES) if (race.equals(defaultRace)) return true;

		if (race.equals("majin")) return gender.equals(Character.GENDER_FEMALE);
		if (race.equals("bioandroid") || race.equals("frostdemon") || race.equals("namekian")) return false;

		RaceCharacterConfig config = ConfigManager.getRaceCharacter(race);
		return config != null && config.canUseHair();
	}

	public static CustomHair getEffectiveHair(Character character) {
		if (!canUseHair(character)) return null;
		int hairId = character.getHairId();
		if (hairId == 0) {
			CustomHair custom = character.getHairBase();
			if (custom == null) {
				custom = new CustomHair();
				character.setHairBase(custom);
			}
			return custom;
		}

		return getPresetHair(hairId, character.getHairColor());
	}

	public static CustomHair getPresetHair(int presetId, String hairColor) {
		return getPresetHairByType(presetId, hairColor, 0);
	}

	public static CustomHair getPresetHairSSJ(int presetId, String hairColor) {
		return getPresetHairByType(presetId, hairColor, 1);
	}

	public static CustomHair getPresetHairSSJ2(int presetId, String hairColor) {
		return getPresetHairByType(presetId, hairColor, 2);
	}

	public static CustomHair getPresetHairSSJ3(int presetId, String hairColor) {
		return getPresetHairByType(presetId, hairColor, 3);
	}

	public static boolean isPresetFullSet(int presetId) {
		String code = PRESET_CODES.get(presetId);
		return code != null && isFullSetCode(code);
	}

	private static CustomHair getPresetHairByType(int presetId, String hairColor, int type) {
		String code = PRESET_CODES.get(presetId);
		if (code == null) return new CustomHair();

		if (isFullSetCode(code)) {
			if (!PRESET_FULL_CACHE.containsKey(presetId)) {
				CustomHair[] fullSet = fromFullSetCode(code);
				if (fullSet != null && fullSet.length >= 3) PRESET_FULL_CACHE.put(presetId, fullSet);
				else return new CustomHair();
			}

			CustomHair[] cached = PRESET_FULL_CACHE.get(presetId);
			if (cached != null && type >= 0 && type < cached.length && cached[type] != null) {
				CustomHair hair = cached[type].copy();
				if (hairColor != null && !hairColor.isEmpty()) hair.setGlobalColor(hairColor);
				return hair;
			}
			return new CustomHair();
		}

		if (!PRESET_CACHE.containsKey(presetId)) {
			CustomHair baseHair = fromCode(code);
			if (baseHair != null) PRESET_CACHE.put(presetId, baseHair);
			else return new CustomHair();
		}

		CustomHair hair = PRESET_CACHE.get(presetId).copy();
		if (hair != null) {
			if (hairColor != null && !hairColor.isEmpty()) hair.setGlobalColor(hairColor);
			return hair;
		}

		CustomHair basic = new CustomHair();
		if (hairColor != null && !hairColor.isEmpty()) basic.setGlobalColor(hairColor);
		return basic;
	}

	public static void registerPreset(int presetId, String code) {
		if (presetId > 0 && code != null && !code.isEmpty()) PRESET_CODES.put(presetId, code);
	}

	public static int getPresetCount() {
		return PRESET_CODES.size();
	}
}